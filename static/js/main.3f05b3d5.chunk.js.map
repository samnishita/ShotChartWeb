{"version":3,"sources":["SearchTypeButtons.js","Header.js","ShotPercentageView.js","SimpleSearchBox.js","images/transparent.png","images/newbackcourt.png","ShotView.js","SelectionViewer.js","AdvancedSearchBox.js","App.js","reportWebVitals.js","index.js"],"names":["SearchTypeButtons","props","activeStyle","borderBottom","fontWeight","inActiveStyle","isMobile","fontSize","marginLeft","className","id","style","isCurrentViewSimple","onClick","console","log","setIsCurrentViewSimple","setAllSearchData","setAllAdvancedSearchData","Header","useState","initState","setInitState","a","fetch","method","then","res","json","data","init","catch","error","useEffect","getInitData","class","setTitle","whichSearchBox","title","isLoading","setIsLoading","allSearchData","allAdvancedSearchData","latestAdvancedViewType","simpleClickHandler","handleSimpleClick","advancedClickHandler","handleAdvancedClick","latestSimpleViewType","length","value","ShotPercentageView","fgFrac","fgPerc","twoPFrac","twoPPerc","threePFrac","threePPerc","shotCalcs","setShotCalcs","processShotData","inputShotData","twoPMakes","twoPTotal","threePMakes","threePTotal","forEach","each","make","shottype","Number","toFixed","simpleShotData","simplesearch","advancedShotData","advancedsearch","fontSizeTitle","fontSizeSubtitle","elements","i","eachElementArray","push","generateShotPercentageView","SimpleSearchBox","activePlayers","setActivePlayers","activeSeasons","setActiveSeasons","yearDisplay","setYearDisplay","activePlayersDisplay","setActivePlayersDisplay","activeSeasonsDisplay","setActiveSeasonsDisplay","shotPercentageData","setShotPercentageData","invisibleRows","setInvisibleRows","setLatestSimpleViewType","selectedYearRef","useRef","current","selectedYear","selectedPlayerRef","selectedPlayer","selectedSeasonRef","selectedSeason","activePlayersRef","initPlayersRef","initPlayers","initPlayersReverseMapRef","getActivePlayersData","year","getSearchData","activePlayersArray","activeplayers","map","eachPlayer","displayname","firstname","lastname","trim","playerinfo","playerfirstname","playerlastname","sort","b","toLowerCase","getSeasonsData","playerId","playerFirstName","playerLastName","activeSeasonsRes","singleseason","preseason","reg","playoffs","includes","setSelectedSeason","response","generateYears","currentYear","subYearString","eachYear","substring","event","handleYearButtonClick","displayActivePlayers","toUpperCase","playerid","handlePlayerButtonClick","displayActiveSeasons","activeSeasonsElements","Object","values","handleSeasonButtonClick","target","classList","contains","textContent","setSelectedYear","processYearChange","setSelectedPlayer","getAttribute","updateLatestSimpleViewType","state","newShots","document","getElementById","scrollIntoView","behavior","url","shots","view","handleViewSelectionButtonClick","yearResult","firstPlayer","searchYear","inputText","isFinal","years","found","tempArray","filter","children","startsWith","parentNode","scrollTop","offsetTop","searchPlayer","latestArray","result","disp","createButton","selection","displayState","scrollable","placeholder","whatToShow","textAreaText","text","width","clientWidth","buttonFace2","spellcheck","minRows","maxRows","resize","overflowWrap","outline","maxWidth","minWidth","position","color","textAlign","buttonFace","onKeyDown","e","newString","keyCode","key","preventDefault","handleDDButtonClick","setTextAreaText","handleKeyPress","handleButtonClick","height","d","fill","strokeWidth","initPlayersReverseMap","window","addEventListener","parseInt","clientHeight","rows","backgroundColor","borderColor","transform","marginBottom","createInvisibleTextArea","runSimpleSearch","ShotView","allHexTiles","allHeatTiles","hexAverages","zoneAverages","whatToDisplay","allShots","localViewType","type","isOriginal","loadingAnimation","legend","combinedState","setCombinedState","whatToDisplayRef","allShotsRef","allHexTilesRef","hexAveragesRef","zoneAveragesRef","localViewTypeRef","getHexAverages","averageJson","gridaverages","uniqueid","average","getZoneAverages","zoneaverages","hideElement","elementId","toggle","showElement","chooseCourt","generateWhatToDisplay","viewType","buffer","inputShots","tradArray","allShotsTemp","keys","rad","counter","y","cx","x","cy","r","stroke","x1","y1","x2","y2","styles","displayClassic","allTiles","j","squareSizeOrig","Math","round","shotinfo","factor","param","shotCounter","eachTile","upperBoundX","lowerBoundX","upperBoundY","lowerBoundY","eachShot","aSum","bSum","p","maxDistanceBetweenNodes","calcDistance","tileValues","min","minFactor","pow","maxShotsPerMaxSquare","temp","avg","squareElements","eachTile2","getDistance","squareSide","eachTileShotCount","tileFill","displayHex","resizeHex","allZones","mapShotsToZones","coloredZones","diff","zoneId","centerX","centerY","scaleNumber","r3","r3_2","r4","r4_2","r5","r5_2","r6","r7","r7_2","r8","r8_2","r9","r9_2","r10","r12","r13","r14","zIndex","displayZone","offset","allKeys","maxValue","eachValue","heatTileInfo","maxCutoff","eachTileKey","circleArray","displayHeat","resizeHeat","determineView","zoneLabels","fontSizeFrac","fontSizePerc","divStyles","labelFracStyle","margin","labelPercStyle","percent","generateZoneLabels","squareSize","allNewTiles","s","h","cos","PI","tan","moveX","moveY","opacity","addShot","shotzonebasic","shotzonearea","shotzonerange","eachZone","circlesArray","gradients","radius","eachHeatTile","circle","eachGradient","fx","fy","gradientUnits","stopColor","stopOpacity","generateLegend","dimensions","getDimensions","legendWidth","legendHeight","legendStyle","topLabelStyle","wrapperStyle","sizeLegendStyle","hexArray","hexArrayPlain","fillMap","sModSum","sMod","modifiedHeight","number","court","makeLoadingAnimation","innerR3","thickness3","outerR3","animation","sin","handleViewTypeButtonClick","Array","isArray","tile1","tile2","sqrt","size","hexAvg","zoneAvg","func","src","transparentCourt","SelectionViewer","allSearchParametersRef","allSearchParameters","mapIdToDisplayName","makeDeleteButton","center","lineLength","stateCopy","paramArray","index","indexOf","splice","setAllSearchParameters","handleDeleteButtonClick","display","alignItems","justifyContent","displayParams","eachParam","eachSelection","generateSelections","AdvancedSearchBox","setLatestAdvancedViewType","relevantTeams","courtAreas","courtSides","mapIdsToSearchParams","initPlayersSortedRef","createDropDown","inputClassName","createSingleSelectionDD","checkIfExistsInArray","createPlayerDropDown","createMultipleSelectionDD","distances","shotTypes","shotType","replace","courtArea","courtSide","handleTextInput","builtString","isKeyEnter","searchDropDown","distanceArray","eachShotType","inputArray","isMultiSelect","eachItem","makeButton","suffix","fullId","rangeButtonClass","willShowTextArea","arrowOffset","createLeftButtons","createRightButtons","innerWidth","urlBuilder","eachKey","updateLatestAdvancedViewType","setTimeout","selectionViewerRef","willDisplayInGrid","gridTemplateColumns","runAdvancedSearch","App","innerHeight","setWindowSize","location","href","builder","keyPressedBuilder","simpleSelectedYear","setSimpleSelectedYear","simpleSelectedPlayer","setSimpleSelectedPlayer","simpleSelectedSeason","setSimpleSelectedSeason","setInitPlayers","setInitPlayersReverseMap","simpleSearchBoxRef","setShotTypes","allAdvancedSearchParameters","setAllAdvancedSearchParameters","advancedSearchBoxRef","sizeRef","acceptedTargets","hideDD","willPass","eachTarget","dropdowns","getElementsByClassName","openDropdown","remove","dropdown","determineWhichView","onclick","players","playersReverse","initallplayers","nameArray","getInitPlayersData","shottypes","playtype","setInterval","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"static/js/main.3f05b3d5.chunk.js","sourcesContent":["import './SearchTypeButtons.css'\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nfunction SearchTypeButtons(props) {\n\n    function displaySimple() {\n        console.log(\"displaySimple()\")\n        if (!props.isCurrentViewSimple) {\n            props.setIsCurrentViewSimple(true)\n            props.setAllSearchData([])\n            props.setAllAdvancedSearchData([])\n        }\n    }\n\n    function displayAdvanced() {\n        console.log(\"displayAdvanced()\")\n        if (props.isCurrentViewSimple) {\n            props.setIsCurrentViewSimple(false)\n            props.setAllSearchData([])\n            props.setAllAdvancedSearchData([])\n        }\n    }\n\n    const activeStyle = {\n        borderBottom: \"5px solid rgba(165, 80, 212, 0.8)\",\n        fontWeight: \"bold\",\n    }\n    const inActiveStyle = {\n        fontWeight: \"bold\",\n    }\n\n    if (props.isMobile) {\n        activeStyle.fontSize = \"16px\"\n        inActiveStyle.fontSize = \"16px\"\n        activeStyle.marginLeft = \"10px\"\n        inActiveStyle.marginLeft = \"10px\"\n    }\n\n    /*\n<Router>\n                <div style={{ height: \"100%\" }}>\n                    <Link className=\"link\" id=\"simple-link\" style={props.isCurrentViewSimple ? activeStyle : {}} to=\"/\" onClick={(() => displaySimple())}>Simple Search</Link>\n                    <Link className=\"link\" id=\"advanced-link\" style={!props.isCurrentViewSimple ? activeStyle : {}} to=\"/Advanced\" onClick={(() => displayAdvanced())}>Advanced Search</Link>\n                    <Switch>\n                        <Route path=\"/\">\n                            {!window.location.href.includes(\"Advanced\") ? displaySimple() : console.log(\"Skipping Advanced\")}\n                        </Route>\n                        <Route path=\"/Advanced\">\n                            {window.location.href.includes(\"Advanced\") ? displayAdvanced() : console.log(\"Skipping Simple\")}\n                        </Route>\n                    </Switch>\n                </div>\n            </Router>\n    */\n\n    return (\n        <div className=\"SearchTypeButtons\">\n            <div className=\"link\" id=\"simple-link\" style={props.isCurrentViewSimple ? activeStyle : inActiveStyle} onClick={(() => displaySimple())}>Simple Search</div>\n            <div className=\"link\" id=\"advanced-link\" style={!props.isCurrentViewSimple ? activeStyle : inActiveStyle} onClick={(() => displayAdvanced())}>Advanced Search</div>\n        </div>\n    );\n}\n\nexport default SearchTypeButtons","import './Header.css'\nimport { useEffect, useState } from \"react\";\nimport SearchTypeButtons from './SearchTypeButtons';\n\nfunction Header(props) {\n    const [initState, setInitState] = useState([])\n    async function getInitData() {\n        await fetch(\"https://customnbashotcharts.com:8443/shots_request?init=true\", {\n            method: 'GET'\n        }).then(res => res.json())\n            .then(data => {\n                setInitState(data.init)\n            }).catch(error => console.log('error', error))\n    }\n    useEffect(() => { getInitData() }, [])\n    return (\n        <header className='Header'>\n            <div class=\"header-grid-item\" id=\"title\">Custom NBA Shot Charts\n                {props.isMobile ? <br></br> : \"\"}\n                {<SearchTypeButtons isMobile={props.isMobile} setTitle={props.setTitle} whichSearchBox={props.whichSearchBox} title={props.title} isLoading={props.isLoading} setIsLoading={props.setIsLoading}\n                    allSearchData={props.allSearchData} allAdvancedSearchData={props.allAdvancedSearchData} isCurrentViewSimple={props.isCurrentViewSimple}\n                    latestAdvancedViewType={props.latestAdvancedViewType} simpleClickHandler={props.handleSimpleClick} advancedClickHandler={props.handleAdvancedClick}\n                    setAllSearchData={props.setAllSearchData} setAllAdvancedSearchData={props.setAllAdvancedSearchData} setIsCurrentViewSimple={props.setIsCurrentViewSimple}\n                    latestSimpleViewType={props.latestSimpleViewType} />}\n            </div>\n            <div class=\"header-grid-item\" id=\"date-accuracy\">\n                <div id='accuracy-title'>Accurate Through</div>\n                <div id='accuracy-date'>{initState.length !== 0 ? initState[2].value : \"\"}</div>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import './ShotPercentageView.css'\nimport { useState, useEffect } from \"react\";\n\nconst ShotPercentageView = (props) => {\n    const [shotCalcs, setShotCalcs] = useState({ fgFrac: \"--\", fgPerc: \"--\", twoPFrac: \"--\", twoPPerc: \"--\", threePFrac: \"--\", threePPerc: \"--\" })\n\n    useEffect(() => {\n        console.log(\"useEffect for ShotPercentageView\")\n        if (props.isCurrentViewSimple && props.simpleShotData && typeof (props.simpleShotData.simplesearch) !== 'undefined') {\n            setShotCalcs(processShotData(props.simpleShotData.simplesearch))\n        } else if (!props.isCurrentViewSimple && props.advancedShotData && typeof (props.advancedShotData.advancedsearch) !== 'undefined') {\n            setShotCalcs(processShotData(props.advancedShotData.advancedsearch))\n        }\n    }, [props.isCurrentViewSimple, props.simpleShotData, props.advancedShotData])\n\n    function processShotData(inputShotData) {\n        let twoPMakes = 0, twoPTotal = 0, threePMakes = 0, threePTotal = 0;\n        let fgFrac = \"--\", fgPerc = \"--\", twoPFrac = \"--\", twoPPerc = \"--\", threePFrac = \"--\", threePPerc = \"--\"\n        inputShotData.forEach(each => {\n            if (each.make == 1 && each.shottype === \"2PT Field Goal\") {\n                twoPMakes++\n                twoPTotal++\n            } else if (each.make == 0 && each.shottype === \"2PT Field Goal\") {\n                twoPTotal++\n            } else if (each.make == 1 && each.shottype === \"3PT Field Goal\") {\n                threePMakes++\n                threePTotal++\n            } else {\n                threePTotal++\n            }\n        })\n        if (twoPTotal !== 0) {\n            twoPFrac = twoPMakes + \"/\" + twoPTotal\n            twoPPerc = Number(twoPMakes / twoPTotal * 100).toFixed(2) + \"%\"\n        }\n        if (threePTotal !== 0) {\n            threePFrac = threePMakes + \"/\" + threePTotal\n            threePPerc = Number(threePMakes / threePTotal * 100).toFixed(2) + \"%\"\n        }\n        if (twoPTotal + threePTotal !== 0) {\n            fgFrac = (twoPMakes + threePMakes) + \"/\" + (twoPTotal + threePTotal)\n            fgPerc = Number((twoPMakes + threePMakes) / (twoPTotal + threePTotal) * 100).toFixed(2) + \"%\"\n        }\n        return { fgFrac: fgFrac, fgPerc: fgPerc, twoPFrac: twoPFrac, twoPPerc: twoPPerc, threePFrac: threePFrac, threePPerc: threePPerc }\n    }\n\n    function generateShotPercentageView() {\n        let fontSizeTitle = props.isCurrentViewSimple ? \"50px\" : \"35px\"\n        let fontSizeSubtitle = props.isCurrentViewSimple ? \"20px\" : \"15px\"\n        let elements = []\n        for (let i = 0; i < 3; i++) {\n            let eachElementArray\n            switch (i) {\n                case 0:\n                    eachElementArray = [\"FG\", shotCalcs.fgFrac, shotCalcs.fgPerc]\n                    break;\n                case 1:\n                    eachElementArray = [\"2P\", shotCalcs.twoPFrac, shotCalcs.twoPPerc]\n                    break;\n                case 2:\n                    eachElementArray = [\"3P\", shotCalcs.threePFrac, shotCalcs.threePPerc]\n                    break\n            }\n            elements.push(<div className=\"perc-div\">\n                <p className=\"percentage-title\" style={{ fontSize: fontSizeTitle }}>{eachElementArray[0]}</p>\n                <p className=\"percentage-content\" style={{ fontSize: fontSizeSubtitle }}>{eachElementArray[1]}</p>\n                <p className=\"percentage-content\" style={{ fontSize: fontSizeSubtitle }}>{eachElementArray[2]}</p>\n            </div>)\n        }\n        return (<div className=\"ShotPercentageView\">{elements}</div>\n        )\n    }\n\n    return (\n        generateShotPercentageView()\n    )\n}\n\nexport default ShotPercentageView","import './SimpleSearchBox.css'\nimport ShotPercentageView from './ShotPercentageView'\nimport { useEffect, useState, useRef } from \"react\";\nimport Svg, { Path, Line, Rect, Defs, RadialGradient, Stop } from 'react-native-svg';\nimport TextArea from 'antd/lib/input/TextArea';\nimport { View, Text, TouchableOpacity, TextInput, StyleSheet } from 'react-native'\nimport TextareaAutosize from 'react-textarea-autosize';\nconst SimpleSearchBox = (props) => {\n    console.log(\"RERENDER SimpleSearchBox\")\n    //STATES\n    const [activePlayers, setActivePlayers] = useState([])\n    const [activeSeasons, setActiveSeasons] = useState([])\n    const [yearDisplay, setYearDisplay] = useState([])\n    const [activePlayersDisplay, setActivePlayersDisplay] = useState([])\n    const [activeSeasonsDisplay, setActiveSeasonsDisplay] = useState([])\n    const [shotPercentageData, setShotPercentageData] = useState({})\n    const [invisibleRows, setInvisibleRows] = useState(1)\n    const [latestSimpleViewType, setLatestSimpleViewType] = useState(props.latestSimpleViewType)\n    //STATE REFS\n    const selectedYearRef = useRef({});\n    selectedYearRef.current = props.selectedYear;\n    const selectedPlayerRef = useRef({});\n    selectedPlayerRef.current = props.selectedPlayer;\n    const selectedSeasonRef = useRef({});\n    selectedSeasonRef.current = props.selectedSeason;\n    const activePlayersRef = useRef({});\n    activePlayersRef.current = activePlayers;\n    const initPlayersRef = useRef({});\n    initPlayersRef.current = props.initPlayers;\n    const initPlayersReverseMapRef = useRef({});\n    initPlayersReverseMapRef.current = props.initPlayersReverseMap;\n\n    function getActivePlayersData(year) {\n        console.log(`getActivePlayersData(${year})`)\n        let response = props.getSearchData(`https://customnbashotcharts.com:8443/shots_request?activeplayers=${year}`)\n            .then(res => {\n                let activePlayersArray = res.activeplayers.map(eachPlayer => {\n                    return {\n                        displayname: (`${eachPlayer.firstname} ${eachPlayer.lastname}`).trim(),\n                        playerinfo: {\n                            id: eachPlayer.id,\n                            playerfirstname: eachPlayer.firstname,\n                            playerlastname: eachPlayer.lastname\n                        }\n                    }\n                })\n                activePlayersArray.sort((a, b) => {\n                    if (a.displayname.toLowerCase() < b.displayname.toLowerCase()) { return -1; }\n                    if (a.displayname.toLowerCase() > b.displayname.toLowerCase()) { return 1; }\n                    return 0;\n                })\n                setActivePlayers(activePlayersArray)\n                return activePlayersArray\n            })\n        return response;\n    }\n\n    async function getSeasonsData(year, playerId, playerFirstName, playerLastName) {\n        console.log(`getSeasonsData(${year}, ${playerId}, ${playerFirstName}, ${playerLastName})`)\n        let response = await props.getSearchData(`https://customnbashotcharts.com:8443/shots_request?singleseasonactivity=true&playerlastname=${playerLastName}&playerfirstname=${playerFirstName}&playerid=${playerId}&year=${year}`)\n            .then(res => {\n                let activeSeasonsRes = []\n                if (res.singleseason[0].preseason === 1) {\n                    activeSeasonsRes.push(\"Preseason\")\n                }\n                if (res.singleseason[0].reg === 1) {\n                    activeSeasonsRes.push(\"Regular Season\")\n                }\n                if (res.singleseason[0].playoffs === 1) {\n                    activeSeasonsRes.push(\"Playoffs\")\n                }\n                if (!activeSeasonsRes.includes(selectedSeasonRef.current)) {\n                    activeSeasonsRes.includes(\"Regular Season\") ? props.setSelectedSeason(\"Regular Season\") : props.setSelectedSeason(activeSeasonsRes[activeSeasonsRes.length - 1])\n                }\n                setActiveSeasons(activeSeasonsRes)\n            })\n        return response\n    }\n\n    function displayAllYears(currentYear) {\n        console.log(`displayAllYears(${currentYear})`)\n        if (yearDisplay.length === 0) {\n            setYearDisplay(generateYears(currentYear))\n        }\n    }\n\n    function generateYears(currentYear) {\n        let year = Number(currentYear.substring(0, 4)), subYearString, elements = []\n        for (let eachYear = year; eachYear >= 1996; eachYear--) {\n            subYearString = (eachYear - 1899) % 100 < 10 ? subYearString = \"0\" + (eachYear - 1899) % 100 : subYearString = \"\" + (eachYear - 1899) % 100\n            elements.push(<p className='dropdown-item year-display' id={eachYear + \"-\" + subYearString} onClick={(event) => handleYearButtonClick(event)}>{eachYear + \"-\" + subYearString}</p>)\n        }\n        return elements\n    }\n\n    function displayActivePlayers() {\n        console.log(\"displayActivePlayers()\")\n        setActivePlayersDisplay(<ul>{activePlayers.map(value =>\n            <li className='dropdown-item player-display' id={value.displayname.toUpperCase()} playerid={value.playerinfo.id}\n                onClick={(event) => handlePlayerButtonClick(event)}>{value.displayname}</li>)}</ul>)\n    }\n\n    function displayActiveSeasons() {\n        console.log(\"displayActiveSeasons()\")\n        let activeSeasonsElements = Object.values(activeSeasons).map(value => (<li className='dropdown-item season-display' onClick={(event) => handleSeasonButtonClick(event)}>{value}</li>));\n        setActiveSeasonsDisplay(<ul>{activeSeasonsElements}</ul>)\n    }\n\n    async function handleYearButtonClick(event) {\n        console.log(`handleYearButtonClick(${event})`)\n        if (event.target.classList.contains(\"year-display\") && selectedYearRef.current !== event.target.textContent) {\n            props.setSelectedYear(event.target.textContent, console.log(\"Set selected year to \" + event.target.textContent));\n            processYearChange(event.target.textContent)\n        }\n    }\n    async function handlePlayerButtonClick(event) {\n        console.log(`handlePlayerButtonClick(${event})`)\n        if (event.target.classList.contains(\"player-display\") && selectedPlayerRef.current !== event.target.textContent) {\n            props.setSelectedPlayer({\n                id: event.target.getAttribute('playerid'),\n                playerfirstname: initPlayersReverseMapRef.current[event.target.getAttribute('playerid')][1],\n                playerlastname: initPlayersReverseMapRef.current[event.target.getAttribute('playerid')][2]\n            }, console.log(\"Set selected player to \" + event.target.textContent));\n            getSeasonsData(selectedYearRef.current, initPlayersRef.current[event.target.textContent][0], initPlayersRef.current[event.target.textContent][1], initPlayersRef.current[event.target.textContent][2])\n        }\n    }\n    async function handleSeasonButtonClick(event) {\n        console.log(`handleSeasonButtonClick(${event})`)\n        if (event.target.classList.contains(\"season-display\") && selectedSeasonRef.current !== event.target.textContent) {\n            console.log(`Setting season to ${event.target.textContent}`)\n            props.setSelectedSeason(event.target.textContent)\n        }\n    }\n\n    async function runSimpleSearch() {\n        props.updateLatestSimpleViewType(latestSimpleViewType)\n        props.setIsLoading({ state: true, newShots: true })\n        document.getElementById(\"shotview-grid-item\").scrollIntoView({ behavior: \"smooth\" })\n        let url = `https://customnbashotcharts.com:8443/shots_request?year=${selectedYearRef.current}&seasontype=${selectedSeasonRef.current}&simplesearch=true&playerid=${selectedPlayerRef.current.id}&playerlastname=${selectedPlayerRef.current.playerlastname}&playerfirstname=${selectedPlayerRef.current.playerfirstname}`\n        console.log(`runSimpleSearch(${url})`)\n        const response = await fetch(url, {\n            method: 'GET'\n        }).then(res => res.json())\n            .then(data => {\n                props.setTitle(`${selectedPlayerRef.current.playerfirstname} ${selectedPlayerRef.current.playerlastname}, ${selectedYearRef.current} ${selectedSeasonRef.current}`)\n                props.setAllSearchData({\n                    shots: data,\n                    view: latestSimpleViewType\n                })\n                setShotPercentageData(data)\n                return data\n            }).catch(error => console.log('error', error))\n        return response\n    }\n\n    function handleViewSelectionButtonClick(event) {\n        console.log(`handleViewSelectionButtonClick(${event})`)\n        setLatestSimpleViewType(event.target.textContent)\n    }\n\n    useEffect(() => {\n        console.log(\"useEffect for SimpleSearchBox []\")\n        getActivePlayersData(props.selectedYear)\n        getSeasonsData(props.selectedYear, selectedPlayerRef.current.id, selectedPlayerRef.current.playerfirstname, selectedPlayerRef.current.playerlastname)\n        displayAllYears(props.currentYear)\n        window.addEventListener('keydown', function (event) {\n            if (event.keyCode == 32) {\n                console.log(\"SPACEBAR\")\n                event.preventDefault();\n            }\n        });\n    }, []);\n\n    async function processYearChange(yearResult) {\n        console.log(`processYearChange(${yearResult})`)\n        let response = await getActivePlayersData(document.getElementById(yearResult).textContent)\n        let names = response.map(each => each.displayname)\n        if (!names.includes(selectedPlayerRef.current.playerfirstname + \" \" + selectedPlayerRef.current.playerlastname)) {\n            let firstPlayer = response[0]\n            props.setSelectedPlayer({\n                id: firstPlayer.playerinfo.id,\n                playerfirstname: firstPlayer.playerinfo.playerfirstname,\n                playerlastname: firstPlayer.playerinfo.playerlastname\n            })\n            console.log(\"Selected Player: \" + firstPlayer.displayname)\n            getSeasonsData(document.getElementById(yearResult).textContent, firstPlayer.playerinfo.id, firstPlayer.playerinfo.playerfirstname, firstPlayer.playerinfo.playerlastname)\n        } else {\n            getSeasonsData(document.getElementById(yearResult).textContent, selectedPlayerRef.current.id, selectedPlayerRef.current.playerfirstname, selectedPlayerRef.current.playerlastname)\n        }\n    }\n\n    function searchYear(inputText, isFinal) {\n        let years = generateYears(props.currentYear)\n        let found = true;\n        for (let i = 0; i < inputText.length; i++) {\n            let tempArray = years.filter(eachYear => eachYear.props.children.startsWith(inputText.substring(0, i + 1)))\n            if (tempArray.length !== 0) {\n                years = tempArray\n            } else {\n                found = false\n            }\n        }\n        let yearResult = years[0].props.children\n        if (document.getElementById(yearResult)) {\n            document.getElementById(yearResult).parentNode.scrollTop = document.getElementById(yearResult).offsetTop;\n        }\n        if (isFinal) {\n            props.setSelectedYear(document.getElementById(yearResult).textContent);\n            processYearChange(yearResult)\n        }\n        let autofill = found ? inputText + yearResult.substring(inputText.length, yearResult.length) : inputText\n        return autofill\n    }\n    function searchPlayer(inputText, isFinal) {\n        let latestArray = activePlayersRef.current.map(eachPlayer => eachPlayer.displayname.toUpperCase())\n        let found = true;\n        for (let i = 0; i < inputText.length; i++) {\n            let tempArray = latestArray.filter(eachPlayer => eachPlayer.startsWith(inputText.substring(0, i + 1).toUpperCase()))\n            if (tempArray.length !== 0) {\n                latestArray = tempArray\n            } else {\n                found = false\n            }\n        }\n        let result = latestArray[0]\n        if (document.getElementById(result)) {\n            document.getElementById(result).parentNode.parentNode.scrollTop = document.getElementById(result).offsetTop;\n            if (isFinal) {\n                props.setSelectedPlayer({\n                    id: document.getElementById(result).getAttribute('playerid'),\n                    playerfirstname: initPlayersReverseMapRef.current[document.getElementById(result).getAttribute('playerid')][1],\n                    playerlastname: initPlayersReverseMapRef.current[document.getElementById(result).getAttribute('playerid')][2]\n                }, getSeasonsData(selectedYearRef.current, initPlayersRef.current[document.getElementById(result).textContent][0], initPlayersRef.current[document.getElementById(result).textContent][1], initPlayersRef.current[document.getElementById(result).textContent][2])\n                );\n            }\n            let disp = initPlayersReverseMapRef.current[document.getElementById(result).getAttribute('playerid')][1] + \" \" + initPlayersReverseMapRef.current[document.getElementById(result).getAttribute('playerid')][2]\n            let autofill = found ? inputText + disp.substring(inputText.length, disp.length) : inputText\n            return autofill\n        }\n    }\n    useEffect(() => {\n        console.log(\"useEffect for activePlayers\")\n        displayActivePlayers()\n    }, [activePlayers])\n\n    useEffect(() => {\n        console.log(\"useEffect for activeSeasons\")\n        displayActiveSeasons()\n    }, [activeSeasons])\n\n    useEffect(() => {\n        console.log(props.textAreaText)\n    }, [props.textAreaText])\n\n    useEffect(() => {\n        console.log(`useEffect for SimpleSearchBox selectedPlayer`)\n    }, [props.selectedPlayer])\n\n    function handleKeyPress(event, id) {\n        let newString = event.target.value\n        if (event.keyCode === 8) {\n            newString = newString.substring(0, newString.length - 1)\n        } else if (event.keyCode === 222) {\n            newString += \"'\"\n        } else if (event.keyCode === 189) {\n            newString += \"-\"\n        } else if ((event.keyCode >= 48 && event.keyCode <= 90) || event.keyCode === 32) {\n            newString += event.key\n        } else if (event.key === 'Enter') {\n            event.preventDefault()\n            props.handleDDButtonClick(event, `${id}-dd`)\n        }\n        if (id === \"year\") {\n            event.key === 'Enter' ? searchYear(newString, true) : searchYear(newString, false)\n        } else if (id === \"player\") {\n            event.key === 'Enter' ? searchPlayer(newString, true) : searchPlayer(newString, false)\n        }\n        props.setTextAreaText({ id: `${id}-dd`, text: newString })\n    }\n\n    function handleButtonClick(event, id) {\n        props.setTextAreaText({ id: id, text: \"\" })\n        props.handleDDButtonClick(event, `${id}-dd`)\n    }\n    useEffect(() => {\n        /*\n        console.log(document.getElementById(\"player-button-display-invisible\"))\n        console.log(Number.parseInt(document.getElementById(\"player-button-display-invisible\").clientHeight / 20) !== invisibleRows)\n        console.log(invisibleRows)\n        console.log(document.getElementById(\"player-button-display-invisible\").textContent)\n        console.log(document.getElementById(\"player-button-display-invisible\").textContent.split(\" \"))\n        console.log(document.getElementById(\"player-button-display-invisible\").textContent.split(\"-\"))\n        */\n        if (document.getElementById(\"player-button-display-invisible\") && Number.parseInt(document.getElementById(\"player-button-display-invisible\").clientHeight / 20) !== invisibleRows) {\n            console.log(invisibleRows)\n            setInvisibleRows(Number.parseInt(document.getElementById(\"player-button-display-invisible\").clientHeight / 20))\n        }\n    })\n\n    function createButton(id, selection, displayState, scrollable, placeholder) {\n        let height = 20\n        let whatToShow = selection\n        if (document.getElementById(`${id}-dd`) && document.getElementById(`${id}-dd`).classList.contains(\"show\")) {\n            whatToShow = props.textAreaText.text\n        }\n        let value = \"\"\n        if (props.textAreaText.text.length !== 0) {\n            if (id === \"year\") {\n                value = searchYear(whatToShow, false)\n            } else if (id === \"player\") {\n                value = searchPlayer(whatToShow, false)\n            }\n        }\n        let width = 100\n        if (document.getElementById(`${id}-button`) && document.getElementById(`${id}-button`).clientWidth) {\n            width = document.getElementById(`${id}-button`).clientWidth * 0.7\n        }\n        let buttonFace2 = (id === \"year\" || id === \"player\") ? <TextareaAutosize spellcheck=\"false\" minRows={id === \"player\" ? invisibleRows : 1}\n            className={`dropdown-button-display ${id}-dd text-area-2`} id={`${id}-button-display-2`} maxRows=\"3\"\n            value={value}\n            style={{ resize: \"none\", overflowWrap: \"break-word\", outline: \"none\", maxWidth: width, minWidth: width, position: \"absolute\", color: \"rgba(255,255,255,0.5)\", }} />\n            : <p className={`dropdown-button-display ${id}-dd`} style={{ textAlign: \"left\", maxWidth: width, minWidth: width, position: \"absolute\" }}>{selection}</p>\n        let buttonFace = (id === \"year\" || id === \"player\") ? < TextareaAutosize spellcheck=\"false\" minRows={id === \"player\" ? invisibleRows : 1}\n            className={`dropdown-button-display ${id}-dd text-area `} id={`${id}-button-display`} maxRows=\"3\"\n            value={whatToShow}\n            style={{ resize: \"none\", overflowWrap: \"break-word\", outline: \"none\", maxWidth: width, minWidth: width, borderBottom: \"1px solid rgba(255,255,255,0.3)\", }}\n            onKeyDown={e => { handleKeyPress(e, id) }}\n            placeholder={placeholder} />\n            : <p className={`dropdown-button-display ${id}-dd`} style={{ textAlign: \"left\", maxWidth: width, minWidth: width, borderBottom: \"1px solid rgba(255,255,255,0.3)\" }}>{selection}</p>\n        return (<button className={`dropdown-button ${id}-dd`} id={`${id}-button`} onClick={(e) => { handleButtonClick(e, id) }}>\n            {buttonFace2}{buttonFace}\n            <Svg className={`arrow-svg ${id}-dd`} height={height} width={height}>\n                <Path className={`arrow-path ${id}-dd`} d={`m0,${(id === \"year\" || id === \"player\") ? 0 : 8} l16 0 l-8 8 l-8 -8`} fill=\"white\" strokeWidth=\"2\"  >\n                </Path>\n            </Svg>\n            <div className={`dropdown-content ${scrollable}`} id={`${id}-dd`}>\n                {displayState}\n            </div>\n        </button>)\n    }\n\n    function createInvisibleTextArea() {\n        let value = \"\"\n        if (props.textAreaText.text.length !== 0) {\n            value = searchPlayer(props.textAreaText.text, false)\n        }\n        let width = 50\n        if (document.getElementById(`player-button`) && document.getElementById(`player-button`).clientWidth) {\n            width = document.getElementById(`player-button`).clientWidth * 0.7\n        }\n        let buttonFace2 = <TextareaAutosize rows=\"1\" className={`dropdown-button-display player-dd-invisible text-area-2`} id={`player-button-display-invisible`} maxRows=\"3\"\n            value={value} style={{ position: \"absolute\", resize: \"none\", overflowWrap: \"break-word\", position: \"absolute\", color: \"transparent\", maxWidth: width, minWidth: width }} />\n        return <button className={`dropdown-button player-invisible-dd`} id={`player-invisible-button`} style={{ backgroundColor: \"transparent\", borderColor: \"transparent\", transform: \"translate(-1000px,0px)\", marginBottom: \"0px\" }} >\n            {buttonFace2}\n        </button>\n    }\n\n    return (\n        <div className=\"SimpleSearchBox\" id=\"simple-search-box\">\n            <div className=\"search-box-body\">\n                <div className=\"search-box-inner-body\">\n                    <h6 className=\"choose-parameters-label\">Search Parameters</h6>\n                    {createInvisibleTextArea()}\n                    {createButton(\"year\", selectedYearRef.current, yearDisplay, \"scrollable\", \"Season\")}\n                    <br></br>\n                    {createButton(\"player\", `${selectedPlayerRef.current.playerfirstname} ${selectedPlayerRef.current.playerlastname}`, activePlayersDisplay, \"scrollable\", \"Player\")}\n                    <br></br>\n                    {createButton(\"season-type\", selectedSeasonRef.current, activeSeasonsDisplay, \"\", \"Season Type\")}\n                    <br></br>\n                    {createButton(\"view-selection\", latestSimpleViewType, [<p className='dropdown-item view-display' onClick={(event) => handleViewSelectionButtonClick(event)}>Classic</p>,\n                    <p className='dropdown-item view-display' onClick={(event) => handleViewSelectionButtonClick(event)}>Hex</p>,\n                    <p className='dropdown-item view-display' onClick={(event) => handleViewSelectionButtonClick(event)}>Zone</p>,\n                    <p className='dropdown-item view-display' onClick={(event) => handleViewSelectionButtonClick(event)}>Heat</p>,\n                    ], \"\", \"View Type\")}\n                    <br></br>\n                    <button id=\"run-simple-search-button\" onClick={e => runSimpleSearch()}>\n                        Run It\n                    </button>\n                </div>\n            </div>\n            <ShotPercentageView simpleShotData={shotPercentageData} isCurrentViewSimple={props.isCurrentViewSimple} />\n        </div>\n    )\n}\nexport default SimpleSearchBox","export default __webpack_public_path__ + \"static/media/transparent.37e32258.png\";","export default __webpack_public_path__ + \"static/media/newbackcourt.18ebe08e.png\";","import './ShotView.css'\nimport tradCourt from './images/newbackcourt.png'\nimport transparentCourt from './images/transparent.png'\nimport Svg, { Circle, Path, Line, Rect, Defs, LinearGradient, RadialGradient, Stop } from 'react-native-svg';\n\nimport { useEffect, useState, useRef } from \"react\";\n\nconst ShotView = (props) => {\n    console.log(\"RERENDER ShotView\")\n    const [combinedState, setCombinedState] = useState({\n        allHexTiles: [],\n        allHeatTiles: [],\n        hexAverages: [],\n        zoneAverages: [],\n        whatToDisplay: [],\n        allShots: [],\n        localViewType: { type: \"Classic\", isOriginal: false },\n        loadingAnimation: \"\",\n        legend: [],\n    })\n    const whatToDisplayRef = useRef([])\n    whatToDisplayRef.current = combinedState.whatToDisplay\n    const allShotsRef = useRef({})\n    allShotsRef.current = combinedState.allShots\n    const allHexTilesRef = useRef({})\n    allHexTilesRef.current = combinedState.allHexTiles\n    const hexAveragesRef = useRef({})\n    hexAveragesRef.current = combinedState.hexAverages\n    const allHeatTilesRef = useRef({})\n    allHeatTilesRef.current = combinedState.allHeatTiles\n    const zoneAveragesRef = useRef({})\n    zoneAveragesRef.current = combinedState.zoneAverages\n    const loadingAnimationRef = useRef({})\n    loadingAnimationRef.current = combinedState.loadingAnimation\n    const localViewTypeRef = useRef({})\n    localViewTypeRef.current = combinedState.localViewType\n\n    async function getHexAverages() {\n        console.log(\"getHexAverages()\")\n        return await getSearchData(\"https://customnbashotcharts.com:8443/shots_request?gridaverages=true\")\n            .then(res => {\n                let averageJson = {}\n                res.gridaverages.forEach(each => averageJson[each.uniqueid] = each.average)\n                return averageJson\n            })\n    }\n\n    async function getZoneAverages() {\n        console.log(\"getZoneAverages()\")\n        return await getSearchData(\"https://customnbashotcharts.com:8443/shots_request?zoneaverages=true\")\n            .then(res => {\n                let averageJson = {}\n                res.zoneaverages.forEach(each => averageJson[each.uniqueid] = each.average)\n                return averageJson\n            })\n    }\n\n    async function getSearchData(url) {\n        console.log(`getSearchData(${url})`)\n        return await fetch(url, {\n            method: 'GET'\n        }).then(res => res.json())\n            .then(data => {\n                return data\n            }).catch(error => console.log('error', error))\n    }\n\n    function hideElement(elementId) {\n        if (document.getElementById(elementId).classList.contains('show')) {\n            document.getElementById(elementId).classList.toggle('show')\n        }\n    }\n\n    function showElement(elementId) {\n        if (!document.getElementById(elementId).classList.contains('show')) {\n            document.getElementById(elementId).classList.toggle('show')\n        }\n    }\n\n    function chooseCourt(view) {\n        console.log(`chooseCourt(${view})`)\n        if (view === \"Zone\") {\n            showElement(\"transparent-court-on-top\")\n            hideElement(\"gray-background\")\n            hideElement(\"transparent-court\")\n            console.log(\"Showing transparent-court-on-top\")\n        } else {\n            showElement(\"transparent-court\")\n            showElement(\"gray-background\")\n            hideElement(\"transparent-court-on-top\")\n            console.log(\"Showing transparent-court & gray-background\")\n        }\n    }\n\n    function generateWhatToDisplay(viewType, shots) {\n        console.log(\"generateWhatToDisplay()\")\n        console.log(viewType)\n        let buffer = []\n        buffer.push(determineView(viewType, shots))\n        let zoneLabels = generateZoneLabels(viewType, shots)\n        if (zoneLabels) {\n            buffer.push(zoneLabels)\n        }\n        return buffer\n    }\n\n    function determineView(viewType, shots) {\n        console.log(\"Determining viewtype: \" + viewType)\n        chooseCourt(viewType)\n        switch (viewType) {\n            case \"Classic\":\n                console.log(\"Displaying Classic\")\n                return displayClassic(shots)\n            case \"Hex\":\n                if (combinedState.allHexTiles.length === 0) {\n                    console.log(\"Displaying Hex\")\n                    displayHex(shots)\n                }\n                return resizeHex()\n            case \"Zone\":\n                console.log(\"Displaying Zone\")\n                return displayZone(shots)\n            case \"Heat\":\n                if (combinedState.allHeatTiles.length === 0) {\n                    console.log(\"Displaying Heat\")\n                    displayHeat(shots)\n                }\n                return resizeHeat()\n        }\n        return <div></div>\n    }\n\n    function displayClassic(inputShots) {\n        console.log(\"displayClassic()\")\n        let tradArray = []\n        if (inputShots && inputShots.length !== 0) {\n            let searchType = Object.keys(inputShots)[0]\n            let allShotsTemp = inputShots[searchType]\n            const height = document.getElementById('transparent-court').clientHeight\n            const width = document.getElementById('transparent-court').clientWidth\n            const rad = 5 * height / 470;\n            const strokeWidth = 2 * height / 470\n            let counter = 0;\n            allShotsTemp.forEach(each => {\n                if (each.y <= 410 && counter < 7500) {\n                    if (each.make === 1) {\n                        tradArray.push(<Circle cx={width / 2 + each.x * width / 500} cy={height / 2 + each.y * height / 470 - 185 * height / 470} r={rad} fill=\"none\" stroke=\"limegreen\" strokeWidth={strokeWidth} />)\n                    } else {\n                        tradArray.push(<Line x1={width / 2 - rad + each.x * width / 500} y1={height / 2 - rad + each.y * height / 470 - 185 * height / 470} x2={width / 2 + rad + each.x * width / 500} y2={height / 2 + rad + each.y * height / 470 - 185 * height / 470} stroke=\"red\" strokeWidth={strokeWidth} />)\n                        tradArray.push(<Line x1={width / 2 + rad + each.x * width / 500} y1={height / 2 - rad + each.y * height / 470 - 185 * height / 470} x2={width / 2 - rad + each.x * width / 500} y2={height / 2 + rad + each.y * height / 470 - 185 * height / 470} stroke=\"red\" strokeWidth={strokeWidth} />)\n                    }\n                    counter++;\n                }\n            })\n            let styles = {\n                position: \"absolute\",\n                transform: `translate(${-(width / 2)}px, ${-height / 2}px)`,\n            }\n            return (<div id=\"inner-imageview-div\" style={styles}>\n                <Svg className=\"imageview-child\" height={height} width={width} >\n                    {tradArray}\n                </Svg>\n            </div>)\n        }\n        return tradArray\n    }\n    const squareSizeOrig = 12\n\n    function displayHex(inputShots) {\n        console.log(\"displayHex()\")\n        if (inputShots && inputShots.length !== 0) {\n            let allShotsTemp = inputShots.simplesearch ? inputShots.simplesearch : inputShots.advancedsearch\n            let allTiles = {}\n            for (let j = -55; j < 400; j = j + squareSizeOrig) {\n                for (let i = -250; i < 250; i = i + squareSizeOrig * 1.1547005) {\n                    allTiles[`tile_${Math.round(i / squareSizeOrig) * squareSizeOrig}_${j}`] = { x: i, y: j, shotinfo: [0.0, 0.0, 0.0] }\n                }\n            }\n            //let factor = 0.007;\n            let factor = 0.015;\n            let shots = allShotsTemp.filter(param => param.y <= 400)\n            let shotCounter = allShotsTemp.length\n            Object.keys(allTiles).forEach(eachTile => {\n                let upperBoundX = allTiles[eachTile].x + 5 + squareSizeOrig * 1.5\n                let lowerBoundX = allTiles[eachTile].x + 5 - squareSizeOrig * 1.5\n                let upperBoundY = allTiles[eachTile].y + 5 + squareSizeOrig * 1.5\n                let lowerBoundY = allTiles[eachTile].y + 5 - squareSizeOrig * 1.5\n                shots.forEach(eachShot => {\n                    if (eachShot.x < upperBoundX && eachShot.x >= lowerBoundX && eachShot.y < upperBoundY && eachShot.y >= lowerBoundY) {\n                        allTiles[eachTile].shotinfo[1] = allTiles[eachTile].shotinfo[1] + 1\n                        if (eachShot.make === 1) {\n                            allTiles[eachTile].shotinfo[0] = allTiles[eachTile].shotinfo[0] + 1\n                        }\n                    }\n                })\n                if (allTiles[eachTile].shotinfo[1] !== 0) {\n                    allTiles[eachTile].shotinfo[2] = allTiles[eachTile].shotinfo[0] / allTiles[eachTile].shotinfo[1]\n                }\n            })\n            let aSum = 0, bSum = 0, p = 2, maxDistanceBetweenNodes = squareSizeOrig * 2, calcDistance = 0;\n            let tileValues = {}\n            let min = 1, minFactor = 0.00045;\n            shotCounter * minFactor > 1 ? min = shotCounter * minFactor : factor = 4.1008 * Math.pow(shotCounter, -0.798);\n            let maxShotsPerMaxSquare = 0;\n            maxShotsPerMaxSquare = factor * shotCounter;\n            if (maxShotsPerMaxSquare == 0) {\n                maxShotsPerMaxSquare = 1;\n            }\n            let temp, avg, squareElements = []\n            Object.keys(allTiles).forEach(eachTile => {\n                if (Math.round(allTiles[eachTile].x / squareSizeOrig) * squareSizeOrig % (squareSizeOrig) === 0 && (allTiles[eachTile].y + 55) % (squareSizeOrig) === 0) {\n                    aSum = 0;\n                    bSum = 0;\n                    Object.keys(allTiles).forEach(eachTile2 => {\n                        calcDistance = getDistance(allTiles[eachTile], allTiles[eachTile2])\n                        if (eachTile !== eachTile2 && calcDistance <= maxDistanceBetweenNodes) {\n                            aSum = aSum + (allTiles[eachTile2].shotinfo[2] / Math.pow(calcDistance, p));\n                            bSum = bSum + (1 / Math.pow(getDistance(allTiles[eachTile], allTiles[eachTile2]), p));\n                        }\n                    })\n                    tileValues[eachTile] = aSum / bSum;\n                    let squareSide = 0\n                    let eachTileShotCount = allTiles[eachTile].shotinfo[1]\n                    if (eachTileShotCount < maxShotsPerMaxSquare && eachTileShotCount > min) {\n                        squareSide = eachTileShotCount / maxShotsPerMaxSquare\n                    } else if (eachTileShotCount > maxShotsPerMaxSquare) {\n                        squareSide = 1\n                    }\n                    temp = \"(\" + (Math.round(allTiles[eachTile].x / 10) * 10) + \",\" + (Math.round(allTiles[eachTile].y / 10) * 10 + 5) + \")\";\n                    avg = hexAveragesRef.current[temp]\n                    let tileFill = \"\"\n                    if (tileValues[eachTile] > avg + 0.07) {\n                        tileFill = \"#fc2121\"\n                    } else if (tileValues[eachTile] > avg + 0.05 && tileValues[eachTile] <= avg + 0.07) {\n                        tileFill = \"#ff6363\"\n                    } else if (tileValues[eachTile] > avg + 0.015 && tileValues[eachTile] <= avg + 0.05) {\n                        tileFill = \"#ff9c9c\"\n                    } else if (tileValues[eachTile] > avg - 0.015 && tileValues[eachTile] <= avg + 0.015) {\n                        tileFill = \"white\"\n                    } else if (tileValues[eachTile] > avg - 0.05 && tileValues[eachTile] <= avg - 0.015) {\n                        tileFill = \"#aed9ff\"\n                    } else if (tileValues[eachTile] > avg - 0.07 && tileValues[eachTile] <= avg - 0.05) {\n                        tileFill = \"#8bc9ff\"\n                    } else {\n                        tileFill = \"#7babff\"\n                    }\n                    squareElements.push({\n                        x: allTiles[eachTile].x,\n                        y: allTiles[eachTile].y,\n                        tileFill: tileFill,\n                        squareSide: squareSide\n                    })\n                }\n            })\n            setCombinedState({ ...combinedState, allHexTiles: squareElements.forEach(each => combinedState.allHexTiles.push(each)) })\n        }\n    }\n\n    function resizeHex() {\n        console.log(\"resizeHex()\")\n        if (allHexTilesRef.current.length > 0) {\n            const height = document.getElementById('transparent-court').clientHeight\n            const width = document.getElementById('transparent-court').clientWidth\n            let squareSize = width / (500 / squareSizeOrig);\n            let allNewTiles = []\n            allHexTilesRef.current.forEach(eachTile => {\n                let squareSide = eachTile.squareSide * squareSize\n                if (squareSide !== 0) {\n                    let s = squareSide / 2 * 1.05\n                    let h = s / Math.cos(30 * Math.PI / 180)\n                    let tan = Math.tan(30 * Math.PI / 180)\n                    let moveX = (eachTile.y + 55) % (squareSizeOrig * 2) === 0 ? width / 2 + (eachTile.x + squareSizeOrig * 1.1547005 / 2) * height / 470 : width / 2 + (eachTile.x) * height / 470\n                    let moveY = height / 2 + (eachTile.y - 175 - squareSide / 2) * height / 470 - 5\n                    if (!props.isCurrentViewSimple) {\n                        moveY = height / 2 + (eachTile.y - 175 + ((squareSize / 2 * 1.05 / Math.cos(3 * Math.PI / 180)) - (h)) / 2) * height / 470 - 5\n                    }\n                    //let moveY = height / 2 + (eachTile.y - 175 + (squareSizeOrig / 2 - squareSide / 2) * 1.1547005 / 2) * height / 470 - 5\n                    allNewTiles.push(<Path d={`m${moveX} ${moveY} \n                        l${s} ${s * tan} l0 ${h} l${-s} ${s * tan} \n                        l${-s} ${-s * tan} l0 ${-h} l${s} ${-s * tan} l${s} ${s * tan}`}\n                        fill={eachTile.tileFill} opacity=\"0.7\" />)\n                }\n            })\n            return (<Svg className=\"imageview-child Hex-tile\" height={height} width={width}>\n                {allNewTiles}\n            </Svg>)\n        }\n    }\n\n    function mapShotsToZones(inputShots) {\n        console.log(\"mapShotsToZones()\")\n        if (inputShots) {\n            let allZones = []\n            for (let i = 0; i < 16; i++) {\n                allZones.push([0, 0, 0])\n            }\n            function addShot(i, make) {\n                allZones[i][1] = allZones[i][1] + 1\n                if (make) { allZones[i][0] = allZones[i][0] + 1 }\n            }\n            let allShotsTemp = inputShots.simplesearch ? inputShots.simplesearch : inputShots.advancedsearch\n            allShotsTemp.forEach(eachShot => {\n                switch (eachShot.shotzonebasic) {\n                    case \"Backcourt\":\n                        break;\n                    case \"Restricted Area\":\n                        addShot(1, eachShot.make);\n                        break;\n                    case \"In The Paint (Non-RA)\":\n                        switch (eachShot.shotzonearea) {\n                            case \"Left Side(L)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"8-16 ft.\":\n                                        addShot(3, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Center(C)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"Less Than 8 ft.\":\n                                        addShot(2, eachShot.make);\n                                        break;\n                                    case \"8-16 ft.\":\n                                        addShot(4, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Right Side(R)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"8-16 ft.\":\n                                        addShot(5, eachShot.make);\n                                        break;\n                                }\n                                break;\n                        }\n                        break;\n                    case \"Mid-Range\":\n                        switch (eachShot.shotzonearea) {\n                            case \"Left Side(L)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"8-16 ft.\":\n                                        addShot(3, eachShot.make);\n                                        break;\n                                    case \"16-24 ft.\":\n                                        addShot(6, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Left Side Center(LC)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"16-24 ft.\":\n                                        addShot(7, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Center(C)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"8-16 ft.\":\n                                        addShot(4, eachShot.make);\n                                        break;\n                                    case \"16-24 ft.\":\n                                        addShot(8, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Right Side Center(RC)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"16-24 ft.\":\n                                        addShot(9, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Right Side(R)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"8-16 ft.\":\n                                        addShot(5, eachShot.make);\n                                        break;\n                                    case \"16-24 ft.\":\n                                        addShot(10, eachShot.make);\n                                        break;\n                                }\n                                break;\n                        }\n                        break;\n                    case \"Left Corner 3\":\n                        addShot(11, eachShot.make);\n                        break;\n                    case \"Right Corner 3\":\n                        addShot(15, eachShot.make);\n                        break;\n                    case \"Above the Break 3\":\n                        switch (eachShot.shotzonearea) {\n                            case \"Left Side Center(LC)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"24+ ft.\":\n                                        addShot(12, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Center(C)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"24+ ft.\":\n                                        addShot(13, eachShot.make);\n                                        break;\n                                }\n                                break;\n                            case \"Right Side Center(RC)\":\n                                switch (eachShot.shotzonerange) {\n                                    case \"24+ ft.\":\n                                        addShot(14, eachShot.make);\n                                        break;\n                                    default:\n                                }\n                                break;\n                        }\n                        break;\n                }\n            })\n            allZones.forEach(eachZone => {\n                if (eachZone[1] !== 0) {\n                    eachZone[2] = eachZone[0] * 1.0 / eachZone[1]\n                }\n            })\n            return allZones;\n        }\n        return <div></div>\n    }\n\n    function displayZone(inputShots) {\n        console.log(\"displayZone()\")\n        if (inputShots) {\n            let allZones = mapShotsToZones(inputShots)\n            let coloredZones = []\n            let fill = \"\"\n            const height = document.getElementById('transparent-court-on-top').clientHeight\n            const width = document.getElementById('transparent-court-on-top').clientWidth\n            for (let i = 1; i < allZones.length; i++) {\n                if (allZones[i][1] === 0) {\n                    fill = \"gray\"\n                } else {\n                    let diff = allZones[i][2] - zoneAveragesRef.current[i]\n                    if (diff > 0.06) {\n                        fill = \"rgba(252,33,33, 1)\"\n                    } else if (diff < 0.06 && diff >= 0.04) {\n                        fill = \"rgba(255,99,99, 1)\"\n                    } else if (diff < 0.04 && diff >= 0.02) {\n                        fill = \"rgba(255,156,156, 1)\"\n                    } else if (diff < 0.02 && diff >= -0.02) {\n                        fill = \"rgba(178,178,178, 1)\"\n                    } else if (diff < -0.02 && diff >= -0.04) {\n                        fill = \"rgba(145,198,244, 1)\"\n                    } else if (diff < -0.04 && diff >= -0.06) {\n                        fill = \"rgba(86,176,255, 1)\"\n                    } else if (diff < -0.06) {\n                        fill = \"rgba(35,115,255, 1)\"\n                    }\n                }\n                let d = \"\"\n                let zoneId = `zone${i}`\n                let centerX = width / 2\n                let centerY = height / 2\n                let strokeWidth = scaleNumber(4)\n                let stroke = \"rgba(0,0,0,1)\"\n                switch (i) {\n                    case 1:\n                        d = `m ${centerX - scaleNumber(39)} ${centerY - scaleNumber(233)}  l ${scaleNumber(78)} 0 l0 ${scaleNumber(56)} a${scaleNumber(4)},${scaleNumber(3.7)} 0 0,1 ${scaleNumber(-77)},0 l0 ${scaleNumber(-56)}`\n                        break;\n                    case 2:\n                        d = `m ${centerX - scaleNumber(80)} ${centerY - scaleNumber(233)} l ${scaleNumber(41)} 0 l0 ${scaleNumber(56)} a${scaleNumber(4)},${scaleNumber(3.7)} 0 0,0 ${scaleNumber(77)},0  l0 ${scaleNumber(-56)} l${scaleNumber(40)} 0 l0 ${scaleNumber(56)}a${scaleNumber(5)},${scaleNumber(5.25)} 0 0,1 ${scaleNumber(-157)},0 l0 ${scaleNumber(-56)}`\n                        break;\n                    case 3:\n                        let r3 = 85, r3_2 = 170\n                        d = `m ${centerX - scaleNumber(160)} ${centerY - scaleNumber(233)} l ${scaleNumber(81)} 0 l0 ${scaleNumber(56)} a${scaleNumber(r3)},${scaleNumber(r3)} 0 0,0 ${scaleNumber(38.7)},${scaleNumber(71.2)} l${scaleNumber(-41)} ${scaleNumber(73)} a${scaleNumber(r3_2)},${scaleNumber(r3_2)} 0 0,1 ${scaleNumber(-78.6)} ${scaleNumber(-145)}  l0 ${scaleNumber(-56)}`\n                        break;\n                    case 4:\n                        let r4 = 85, r4_2 = 160\n                        d = `m ${centerX - scaleNumber(40)} ${centerY - scaleNumber(105)}  a${scaleNumber(r4)},${scaleNumber(r4)} 0 0,0 ${scaleNumber(80)} 0 l${scaleNumber(41)} ${scaleNumber(71.8)} a${scaleNumber(r4_2)},${scaleNumber(r4_2)} 0 0,1 ${scaleNumber(-162)} 0 l${scaleNumber(41)} ${scaleNumber(-73)}`\n                        break;\n                    case 5:\n                        let r5 = 85, r5_2 = 170\n                        d = `m ${centerX + scaleNumber(78)} ${centerY - scaleNumber(233)} l ${scaleNumber(80)} 0 l0 ${scaleNumber(56)} a${scaleNumber(r5_2)},${scaleNumber(r5_2)} 0 0,1 ${scaleNumber(-77.4)} ${scaleNumber(143.5)} l${scaleNumber(-41)} ${scaleNumber(-72.6)} a${scaleNumber(r5)},${scaleNumber(r5)} 0 0,0 ${scaleNumber(38.7)},${scaleNumber(-71.2)}  l0 ${scaleNumber(-56)}`\n                        break;\n                    case 6:\n                        let r6 = 200\n                        d = `m ${centerX - scaleNumber(219)} ${centerY - scaleNumber(233)}  l ${scaleNumber(59)} 0 l0 ${scaleNumber(56)} a${scaleNumber(r6)},${scaleNumber(r6)} 0 0,0 ${scaleNumber(24)},${scaleNumber(88.5)} l${scaleNumber(-60)} ${scaleNumber(40)}  a${scaleNumber(r6)},${scaleNumber(r6)} 0 0,1 ${scaleNumber(-22.75)},${scaleNumber(-48)} l0 ${scaleNumber(-137)}`\n                        break;\n                    case 7:\n                        let r7 = 150, r7_2 = 230\n                        d = `m ${centerX - scaleNumber(136)} ${centerY - scaleNumber(89)}  a${scaleNumber(r7)},${scaleNumber(r7)} 0 0,0 ${scaleNumber(80)} ${scaleNumber(68)} l${scaleNumber(-22)} ${scaleNumber(65)} a${scaleNumber(r7_2)},${scaleNumber(r7_2)} 0 0,1 ${scaleNumber(-118)} ${scaleNumber(-92.5)} l${scaleNumber(60)} ${scaleNumber(-40)}`\n                        break;\n                    case 8:\n                        let r8 = 150, r8_2 = 230\n                        d = `m ${centerX + scaleNumber(-57)} ${centerY - scaleNumber(21)}  a${scaleNumber(r8)},${scaleNumber(r8)} 0 0,0 ${scaleNumber(113)} 0 l${scaleNumber(21.5)} ${scaleNumber(65)} a${scaleNumber(r8_2)},${scaleNumber(r8_2)} 0 0,1 ${scaleNumber(-155.5)} 0 l${scaleNumber(22)} ${scaleNumber(-65)} `\n                        break;\n                    case 9:\n                        let r9 = 150, r9_2 = 230\n                        d = `m ${centerX + scaleNumber(135)} ${centerY - scaleNumber(90)} l${scaleNumber(61)} ${scaleNumber(42)} a${scaleNumber(r9_2)},${scaleNumber(r9_2)} 0 0,1 ${scaleNumber(-118)} ${scaleNumber(92.5)} l${scaleNumber(-22)} ${scaleNumber(-66)} a${scaleNumber(r9)},${scaleNumber(r9)} 0 0,0 ${scaleNumber(80)} ${scaleNumber(-70)}  `\n                        break;\n                    case 10:\n                        let r10 = 200\n                        d = `m ${centerX + scaleNumber(158)} ${centerY - scaleNumber(233)}  l ${scaleNumber(60.5)} 0 l0 ${scaleNumber(137)} a${scaleNumber(r10)},${scaleNumber(r10)} 0 0,1 ${scaleNumber(-22.75)},${scaleNumber(48)}  l${scaleNumber(-60)} ${scaleNumber(-41.5)}  a${scaleNumber(r10)},${scaleNumber(r10)} 0 0,0 ${scaleNumber(23)},${scaleNumber(-88.5)} l0 ${scaleNumber(-56)}`\n                        break;\n                    case 11:\n                        d = `m ${centerX - scaleNumber(248)} ${centerY - scaleNumber(233)}  l${scaleNumber(30)} 0 l0 ${scaleNumber(137)}l${scaleNumber(-30)} 0 l0 ${scaleNumber(-137)}`\n                        break;\n                    case 12:\n                        let r12 = 220\n                        d = `m ${centerX - scaleNumber(248)} ${centerY - scaleNumber(96)} l${scaleNumber(30)} 0 a${scaleNumber(r12)},${scaleNumber(r12)} 0 0,0 ${scaleNumber(129)},${scaleNumber(136)} l${scaleNumber(-77)} ${scaleNumber(193)} l${scaleNumber(-82)} 0 l0 ${scaleNumber(-330)}`\n                        break;\n                    case 13:\n                        let r13 = 245\n                        d = `m ${centerX - scaleNumber(90)} ${centerY + scaleNumber(40)}  a${scaleNumber(r13)},${scaleNumber(r13)} 0 0,0 ${scaleNumber(179)},0 l${scaleNumber(77)} ${scaleNumber(193.5)} l${scaleNumber(-333)} 0 l${scaleNumber(77)} ${scaleNumber(-193)}`\n                        break;\n                    case 14:\n                        let r14 = 220\n                        d = `m ${centerX + scaleNumber(219)} ${centerY - scaleNumber(96)} l${scaleNumber(30)} 0 l0 ${scaleNumber(330)} l${scaleNumber(-83)} 0 l${scaleNumber(-77)} ${scaleNumber(-193.5)} a${scaleNumber(r14)},${scaleNumber(r14)} 0 0,0 ${scaleNumber(130)},${scaleNumber(-137)}  `\n                        break;\n                    case 15:\n                        d = `m ${centerX + scaleNumber(219)} ${centerY - scaleNumber(233)}  l${scaleNumber(30)} 0 l0 ${scaleNumber(137)}l${scaleNumber(-30)} 0 l0 ${scaleNumber(-137)}`\n                        break;\n                }\n                coloredZones.push(<Path id={zoneId} d={d} fill={fill} stroke={stroke} strokeWidth={strokeWidth} />)\n            }\n            //let dRad = `m ${centerX} ${centerY - scaleNumber(180)}  l200 500`\n            // let r345 = 5\n            //let d345 = `m ${centerX - scaleNumber(160)} ${centerY - scaleNumber(233)} l ${scaleNumber(318)} 0 l0 ${scaleNumber(56)} a${scaleNumber(r345)},${scaleNumber(5.25)} 0 0,1 ${scaleNumber(-318)},0 l0 ${scaleNumber(-56)}`\n            //<Path id=\"zone345\" d={d345} fill={fill} stroke={stroke} strokeWidth={strokeWidth} />\n            let styles = {\n                position: \"absolute\",\n                transform: `translate(${-(width / 2)}px, ${-height / 2}px)`,\n                zIndex: 0\n            }\n            return (<div id=\"inner-imageview-div\" style={styles}>\n                <Svg className=\"imageview-child\" id=\"zones-underneath\" height={height} width={width} >\n                    {coloredZones}\n                </Svg>\n            </div>)\n        }\n    }\n\n    function generateZoneLabels(view, inputShots) {\n        console.log(`generateZoneLabels(${view})`)\n        if (inputShots && view === \"Zone\") {\n            let allZones = mapShotsToZones(inputShots)\n            let zoneLabels = []\n            const height = document.getElementById('transparent-court-on-top').clientHeight\n            const width = document.getElementById('transparent-court-on-top').clientWidth\n            let fontSizeFrac = scaleNumber(18)\n            let fontSizePerc = scaleNumber(16)\n            //let fontWidth = scaleNumber(10 * fontSizeFrac)\n            for (let i = 1; i < allZones.length; i++) {\n                let divStyles = { position: \"absolute\", width: \"auto\", backgroundColor: \"transparent\", zIndex: 1 }\n                let labelFracStyle = {\n                    fontSize: fontSizeFrac,\n                    margin: \"0px\",\n                }\n                let labelPercStyle = {\n                    fontSize: fontSizePerc,\n                    margin: \"0px\"\n                }\n                switch (i) {\n                    case 1:\n                        divStyles.transform = `translate(0px,${-scaleNumber(215)}px)`\n                        break;\n                    case 2:\n                        divStyles.transform = `translate(0px,${-scaleNumber(120)}px)`\n                        break;\n                    case 3:\n                        divStyles.transform = `translate(${-scaleNumber(115)}px,${-scaleNumber(155)}px)`\n                        break;\n                    case 4:\n                        divStyles.transform = `translate(0px,${-scaleNumber(57)}px)`\n                        break;\n                    case 5:\n                        divStyles.transform = `translate(${scaleNumber(115)}px,${scaleNumber(-155)}px)`\n                        break;\n                    case 6:\n                        divStyles.transform = `translate(${-scaleNumber(185)}px,${-scaleNumber(115)}px)`\n                        break;\n                    case 7:\n                        divStyles.transform = `translate(${-scaleNumber(120)}px,${-scaleNumber(20)}px)`\n                        break;\n                    case 8:\n                        divStyles.transform = `translate(0px,${scaleNumber(20)}px)`\n                        break;\n                    case 9:\n                        divStyles.transform = `translate(${scaleNumber(120)}px,${-scaleNumber(20)}px)`\n                        break;\n                    case 10:\n                        divStyles.transform = `translate(${scaleNumber(185)}px,${-scaleNumber(115)}px)`\n                        break;\n                    case 11:\n                        divStyles.transform = `translate(${scaleNumber(-205)}px,${-scaleNumber(200)}px)`\n                        labelFracStyle.textAlign = \"left\"\n                        labelPercStyle.textAlign = \"left\"\n                        break;\n                    case 12:\n                        divStyles.transform = `translate(${-scaleNumber(165)}px,${scaleNumber(70)}px)`\n                        break;\n                    case 13:\n                        divStyles.transform = `translate(0px,${scaleNumber(100)}px)`\n                        break;\n                    case 14:\n                        divStyles.transform = `translate(${scaleNumber(165)}px,${scaleNumber(70)}px)`\n                        break;\n                    case 15:\n                        divStyles.transform = `translate(${scaleNumber(205)}px,${-scaleNumber(200)}px)`\n                        labelFracStyle.textAlign = \"right\"\n                        labelPercStyle.textAlign = \"right\"\n                        break;\n                }\n                let percent = \"0%\"\n                if (allZones[i][1] !== 0) {\n                    percent = (allZones[i][0] * 100 / allZones[i][1]) % 1 === 0 ? `${Number(allZones[i][0] / allZones[i][1] * 100).toFixed(0)}%` : `${Number(allZones[i][0] / allZones[i][1] * 100).toFixed(1)}%`\n                }\n                zoneLabels.push(<div height={height} width={width} style={divStyles}>\n                    <p className=\"labelFrac\" style={labelFracStyle}>{`${allZones[i][0]}/${allZones[i][1]}`}</p>\n                    <p className=\"labelPerc\" style={labelPercStyle}>{percent}</p>\n                </div>)\n            }\n            return zoneLabels\n        }\n        return\n    }\n\n    function displayHeat(inputShots) {\n        console.log(\"displayHeat()\")\n        if (inputShots && inputShots.length !== 0) {\n            let allShotsTemp = inputShots.simplesearch ? inputShots.simplesearch : inputShots.advancedsearch\n            let allTiles = {}\n            for (let x = -250; x <= 250; x++) {\n                for (let y = -55; y < 400; y++) {\n                    allTiles[`tile_${x}_${y}`] = { x: x, y: y, shotinfo: [0.0, 0.0, 0.0] }\n                }\n            }\n            let shots = allShotsTemp.filter(param => param.y < 400)\n            let shotCounter = allShotsTemp.length\n            shots.forEach(eachShot => {\n                allTiles[`tile_${eachShot.x}_${eachShot.y}`].shotinfo[1] = allTiles[`tile_${eachShot.x}_${eachShot.y}`].shotinfo[1] + 1\n                if (eachShot.make === 1) {\n                    allTiles[`tile_${eachShot.x}_${eachShot.y}`].shotinfo[0] = allTiles[`tile_${eachShot.x}_${eachShot.y}`].shotinfo[0] + 1\n                }\n            })\n            Object.values(allTiles).forEach(each => {\n                if (each.shotinfo[1] !== 0) {\n                    each.shotinfo[2] = each.shotinfo[0] / each.shotinfo[1]\n                }\n            })\n            let aSum = 0, bSum = 0, p = 2, offset = 10, maxDistanceBetweenNodes = 30\n            let tileValues = {}\n            let allKeys = Object.keys(allTiles)\n            let counter = 0;\n            while (counter < allKeys.length) {\n                if (allTiles[allKeys[counter]].x % offset === 0 && (allTiles[allKeys[counter]].y) % offset === 0) {\n                    aSum = 0;\n                    bSum = 0;\n                    let lowerBoundX = allTiles[allKeys[counter]].x - maxDistanceBetweenNodes >= -250 ? allTiles[allKeys[counter]].x - maxDistanceBetweenNodes : -250\n                    let upperBoundX = allTiles[allKeys[counter]].x + maxDistanceBetweenNodes < 250 ? allTiles[allKeys[counter]].x + maxDistanceBetweenNodes : 249\n                    let lowerBoundY = allTiles[allKeys[counter]].y - maxDistanceBetweenNodes >= -55 ? allTiles[allKeys[counter]].y - maxDistanceBetweenNodes : -55\n                    let upperBoundY = allTiles[allKeys[counter]].y + maxDistanceBetweenNodes < 400 ? allTiles[allKeys[counter]].y + maxDistanceBetweenNodes : 399\n                    for (let i = lowerBoundX; i <= upperBoundX; i++) {\n                        for (let j = lowerBoundY; j <= upperBoundY; j++) {\n                            let calcDistance = getDistance(allTiles[allKeys[counter]], allTiles[`tile_${i}_${j}`])\n                            if (calcDistance < maxDistanceBetweenNodes && calcDistance > 0) {\n                                aSum = aSum + (allTiles[`tile_${i}_${j}`].shotinfo[1] * calcDistance / Math.pow(calcDistance, p));\n                                bSum = bSum + (1 / Math.pow(calcDistance, p));\n                            }\n                        }\n                    }\n                    tileValues[allKeys[counter]] = aSum / bSum;\n                }\n                counter++;\n            }\n            let maxValue = 0.0\n            Object.values(tileValues).forEach(eachValue => {\n                if (eachValue > maxValue) {\n                    maxValue = eachValue\n                }\n            })\n            let heatTileInfo = []\n            if (maxValue != 0) {\n                maxValue = maxValue * (500 * 1.0 / shotCounter);\n                let maxCutoff = 0.00004 * shotCounter / maxValue + 0.3065;\n                let diff = maxCutoff / 7;\n                Object.keys(tileValues).forEach(eachTileKey => {\n                    let color = \"\", circleArray = \"\"\n                    let value = tileValues[eachTileKey]\n                    if (value > maxValue * (maxCutoff - (diff * 6))) {\n                        if (value > maxValue * (maxCutoff - (diff * 6)) && value <= maxValue * (maxCutoff - (diff * 5))) {\n                            color = \"#bc53f8\"\n                            circleArray = \"1\"\n                        } else if (value > maxValue * (maxCutoff - (diff * 5)) && value <= maxValue * (maxCutoff - (diff * 4))) {\n                            color = \"#dd76ff\"\n                            circleArray = \"2\"\n                        } else if (value > maxValue * (maxCutoff - (diff * 4)) && value <= maxValue * (maxCutoff - (diff * 3))) {\n                            color = \"#e696fa\"\n                            circleArray = \"3\"\n                        } else if (value > maxValue * (maxCutoff - (diff * 3)) && value <= maxValue * (maxCutoff - (diff * 2))) {\n                            color = \"#c4b8ff\"\n                            circleArray = \"4\"\n                        } else if (value > maxValue * (maxCutoff - (diff * 2)) && value <= maxValue * (maxCutoff - (diff * 1))) {\n                            color = \"#6bb2f8\"\n                            circleArray = \"5\"\n                        } else if (value > maxValue * (maxCutoff - (diff * 1)) && value <= maxValue * maxCutoff) {\n                            color = \"#62c8ff\"\n                            circleArray = \"6\"\n                        } else {\n                            color = \"#90ebff\"\n                            circleArray = \"7\"\n                        }\n                        heatTileInfo.push({\n                            x: allTiles[eachTileKey].x,\n                            y: allTiles[eachTileKey].y,\n                            color: color,\n                            circleArray: circleArray\n                        })\n                    }\n                })\n                heatTileInfo.length === 0 ? setCombinedState({ ...combinedState, allHeatTiles: <div></div> }) : setCombinedState({ ...combinedState, allHeatTiles: heatTileInfo.forEach(each => combinedState.allHeatTiles.push(each)) })\n            }\n        }\n    }\n\n    function resizeHeat() {\n        console.log(\"resizeHeat()\")\n        if (combinedState.allHeatTiles.length > 0) {\n            let circlesArray = [[], [], [], [], [], [], []]\n            let gradients = []\n            const height = document.getElementById('transparent-court').clientHeight\n            const width = document.getElementById('transparent-court').clientWidth\n            let radius = 25 * height / 470\n            combinedState.allHeatTiles.forEach(eachHeatTile => {\n                let cx = width / 2 + eachHeatTile.x * width / 500\n                let cy = height / 2 + eachHeatTile.y * height / 470 - 185 * height / 470\n                let circle = <Circle cx={cx} cy={cy} r={radius} fill={`url(#grad_${eachHeatTile.x}_${eachHeatTile.y})`} stroke=\"none\" strokeWidth=\"3\" />\n                circlesArray[eachHeatTile.circleArray - 1].push(circle)\n                let eachGradient = <RadialGradient id={`grad_${eachHeatTile.x}_${eachHeatTile.y}`} cx={cx} cy={cy} r={radius} fx={cx} fy={cy} gradientUnits=\"userSpaceOnUse\">\n                    <Stop offset=\"0\" stopColor={eachHeatTile.color} stopOpacity=\"0.4\" />\n                    <Stop offset=\"1\" stopColor={eachHeatTile.color} stopOpacity=\"0\" />\n                </RadialGradient>\n                gradients.push(eachGradient)\n            })\n            return (<Svg className=\"imageview-child\" height={height} width={width} >\n                <Defs>\n                    {gradients}\n                </Defs>\n                {circlesArray[0]}\n                {circlesArray[1]}\n                {circlesArray[2]}\n                {circlesArray[3]}\n                {circlesArray[4]}\n                {circlesArray[5]}\n                {circlesArray[6]}\n            </Svg>)\n        }\n        return <div></div>\n    }\n\n    function generateLegend(view) {\n        if (view === \"Classic\") {\n            return <div></div>\n        } else {\n            let dimensions = getDimensions()\n            let height = dimensions.height\n            let width = dimensions.width\n            let legendWidth = height / 470 * 175\n            let legendHeight = height / 470 * 65\n            let legendStyle = {\n                width: legendWidth,\n                height: legendHeight,\n                transform: `translate(${width / -2 + legendWidth * 0.55}px,${height / 2 - legendHeight * 0.65}px)`\n            }\n            let topLabelStyle = { fontSize: height / 470 * 12 }\n            let wrapperStyle = { fontSize: height / 470 * 10 }\n            switch (view) {\n                case \"Hex\":\n                    let sizeLegendStyle = {\n                        width: legendWidth * 0.7,\n                        height: legendHeight,\n                        transform: `translate(${width / 2 - legendWidth * 0.55}px,${height / 2 - legendHeight * 0.65}px)`\n                    }\n                    let s = width / (500 / squareSizeOrig) / 2 * 1.05\n                    let h = s / Math.cos(30 * Math.PI / 180)\n                    let tan = Math.tan(30 * Math.PI / 180)\n                    let hexArray = [], hexArrayPlain = []\n                    let fillMap = [\"#7babff\", \"#8bc9ff\", \"#aed9ff\", \"white\", \"#ff9c9c\", \"#ff6363\", \"#fc2121\"]\n                    let sModSum = 0;\n                    for (let i = 0; i < 7; i++) {\n                        hexArray.push(<Path d={`m${(2 * s * i + s)} ${s / 2} l${s} ${s * tan} l0 ${h} l${-s} ${s * tan} \n                            l${-s} ${-s * tan} l0 ${-h} l${s} ${-s * tan} l${s} ${s * tan}`} fill={fillMap[i]} opacity=\"0.7\" />)\n                        let sMod = s * (0.3 + (i * 0.1))\n                        let distance = s * 0.85\n                        sModSum += sMod + distance + sMod / 2\n                        let modifiedHeight = sMod / Math.cos(30 * Math.PI / 180)\n                        hexArrayPlain.push(<Path d={`m${sModSum} ${s / 2 + (s - sMod)} l${sMod} ${sMod * tan} l0 ${modifiedHeight} l${-sMod} ${sMod * tan}\n                            l${-sMod} ${-sMod * tan} l0 ${-modifiedHeight} l${sMod} ${-sMod * tan} l${sMod} ${sMod * tan}`} fill=\"white\" opacity=\"0.7\" />)\n                    }\n                    return [(< div id=\"color-legend\" style={legendStyle} >\n                        <p className=\"legend-top-label\" style={topLabelStyle} >Shooting Percentage</p>\n                        <div width=\"100%\" style={wrapperStyle}>\n                            <div className=\"legend-left-label legend-bottom-label\" >Below Avg.</div><div className=\"legend-right-label legend-bottom-label\" >Above Avg.</div>\n                        </div>\n                        <div >\n                            <Svg width={14 * s} height={4 * s}>\n                                {hexArray}\n                            </Svg>\n                        </div>\n                    </div >), (\n                        < div id=\"size-legend\" style={sizeLegendStyle} >\n                            <p className=\"legend-top-label\" style={topLabelStyle} >Shot Frequency</p>\n                            <div width=\"100%\" style={wrapperStyle}>\n                                <div className=\"legend-left-label legend-bottom-label\" >Low</div><div className=\"legend-right-label legend-bottom-label\" >High</div>\n                            </div>\n                            <div id=\"size-legend-gradient\">\n                                <Svg className=\"svg-size-legend\" width={14 * s} height={4 * s}>\n                                    {hexArrayPlain}\n                                </Svg>\n                            </div>\n                        </div >)]\n                case \"Zone\":\n                    return (< div id=\"color-legend\" style={legendStyle} >\n                        <p className=\"legend-top-label\" style={topLabelStyle} >Shooting Percentage</p>\n                        <div width=\"100%\" style={wrapperStyle}>\n                            <div className=\"legend-left-label legend-bottom-label\" >Below Avg.</div><div className=\"legend-right-label legend-bottom-label\" >Above Avg.</div>\n                        </div>\n                        <div id=\"color-legend-gradient\"></div>\n                    </div >)\n                case \"Heat\":\n                    return (< div id=\"heat-color-legend\" style={legendStyle} >\n                        <p className=\"legend-top-label\" style={topLabelStyle} >Shot Frequency</p>\n                        <div width=\"100%\" style={wrapperStyle}>\n                            <div className=\"legend-left-label legend-bottom-label\" >Low Freq.</div><div className=\"legend-right-label legend-bottom-label\" >High Freq.</div>\n                        </div>\n                        <div id=\"heat-legend-gradient\"></div>\n                    </div>)\n            }\n        }\n    }\n\n    function scaleNumber(number) {\n        if (document.getElementById('transparent-court').clientHeight === 0) {\n            return number * document.getElementById('transparent-court-on-top').clientHeight / 470\n        }\n        return number * document.getElementById('transparent-court').clientHeight / 470\n    }\n\n    function determineHeight() {\n        if (document.getElementById(\"transparent-court\") === null) {\n            return 0\n        } else {\n            return document.getElementById(\"transparent-court\").clientHeight\n        }\n    }\n\n    function getDimensions() {\n        let height = 470\n        let width = 500\n        let court\n        if (document.getElementById(\"transparent-court\") && document.getElementById(\"transparent-court\").clientHeight > 0) {\n            court = document.getElementById(\"transparent-court\")\n        }\n        if (!court && document.getElementById(\"transparent-court-on-top\") && document.getElementById(\"transparent-court-on-top\").clientHeight > 0) {\n            court = document.getElementById(\"transparent-court-on-top\")\n        }\n        if (court) {\n            height = court.clientHeight\n            width = court.clientWidth\n        }\n        return {\n            height: height,\n            width: width\n        }\n    }\n\n    function makeLoadingAnimation(isLoading, viewType) {\n        console.log(\"makeLoadingAnimation()\")\n        console.log(`${isLoading}, ${viewType}`)\n        //if (true) {\n        if (isLoading) {\n            let dimensions = getDimensions()\n            let height = dimensions.height\n            let width = dimensions.width\n            /*\n            let rEach = height / 70\n            let rLarge = height / 12\n            let svgDivisor = 4\n            let centerX = width / svgDivisor / 2\n            let centerY = height / svgDivisor / 2\n            function calcCoord(center, radius, angle, useSin) {\n                return useSin ? center + (radius * Math.sin(angle * Math.PI / 180)) : center + (radius * Math.cos(angle * Math.PI / 180))\n            }\n            let circles = []\n            let factor = 15\n            for (let i = -180; i <= 180; i += 30) {\n                let style = {\n                    fillOpacity: 1,\n                    fill: `rgb(0, 195, 255,${1 - 0.9 * (i / 30 + 6) / 12})`,\n                    animationTimingFunction: \"ease-in\",\n                    animationFillMode: \"forwards\",\n                    animationName: \"FillIn\",\n                    animationDuration: `${12 / factor}s`,\n                    animationIterationCount: \"infinite\",\n                    animationDelay: `${(i / 30 + 6) / factor}s`\n                }\n                console.log(style)\n                circles.push(<Circle style={style} cx={calcCoord(centerX, rLarge, i, false)} cy={calcCoord(centerY, rLarge, i, true)} r={rEach} ></Circle>)\n            }\n     \n             <Svg margin=\"auto\" width={width / svgDivisor} height={height / svgDivisor} style={{ animation: `spin 4s linear infinite`, opacity: \"1\" }} >\n     \n                    </Svg>\n            */\n            /**\n             * <Defs>\n                            <LinearGradient id=\"grad\" x1=\"0\" y1=\"0\" x2=\"1\" y2=\"0\">\n                                <Stop offset=\"0\" stopColor=\"#FFD080\" stopOpacity=\"1\" />\n                                <Stop offset=\"1\" stopColor=\"red\" stopOpacity=\"1\" />\n                            </LinearGradient>\n                        </Defs>\n                        <Circle cx={width / 10} cy={height / 10} r={height / 10} fill=\"url(#grad)\" ></Circle>\n                    \n             */\n\n            //let middleCircleR = height / 15\n            let centerX = width / 6\n            let centerY = height / 6\n            // let gap = height / 30\n            let innerR1 = height / 30\n            let thickness1 = height / 50\n            let outerR1 = innerR1 + thickness1\n            let innerR2 = height / 16\n            let thickness2 = height / 50\n            let outerR2 = innerR2 + thickness2\n            let innerR3 = height / 11\n            let thickness3 = height / 50\n            let outerR3 = innerR3 + thickness3\n            //style={{ animation: `spin 3s linear infinite`, opacity: \"1\" }}\n            // <Circle cx={centerX} cy={centerY} r={middleCircleR} fill=\"red\" opacity=\"0.5\"></Circle>\n            /**\n             * <Svg width={width / 3} height={height / 3} style={{ animation: `spin 0.6s linear infinite`, opacity: \"1\", position: \"absolute\" }} >\n                            <Path d={`m${centerX} ${centerY - innerR1} l0 -${thickness1} a${outerR1},${outerR1} 0 0,1 0,${2 * (innerR1 + thickness1)} l0 ${-thickness1}  a${innerR1},${innerR1} 0 0,0 0,${-2 * innerR1}`} fill=\"lightblue\" stroke=\"none\" strokeWidth=\"1\"></Path>\n                        </Svg>\n                        <Svg width={width / 3} height={height / 3} style={{ animation: `spin 1s linear infinite`, opacity: \"1\", position: \"absolute\" }} >\n                            <Path d={`m${centerX} ${centerY - innerR2} l0 -${thickness2} a${outerR2},${outerR2} 0 0,1 0,${2 * (innerR2 + thickness2)} l0 ${-thickness2}  a${innerR2},${innerR2} 0 0,0 0,${-2 * innerR2}`} fill=\"lightblue\" stroke=\"none\" strokeWidth=\"1\"></Path>\n                        </Svg>\n             */\n            //let view = allShotsRef.current.shots === null ? allShotsRef.current.view : combinedState.localViewType.type\n            //animation: `spin 0.5s linear infinite`,\n            //                            <Path d={`m${centerX} ${centerY - innerR3} l0 -${thickness3} a${outerR3},${outerR3} 0 0,1 0,${2 * (innerR3 + thickness3)} l0 ${-thickness3}  a${innerR3},${innerR3} 0 0,0 0,${-2 * innerR3}`} fill=\"url(#loading-gradient)\" stroke=\"none\" strokeWidth=\"1\"></Path>\n\n            return (<div id=\"loadingAnimation\" style={{ position: \"absolute\", backgroundColor: \"gray\", opacity: \"0.8\", zIndex: 1, width: width, height: height, textAlign: \"center\" }}>\n                <div style={{ transform: `translate(0px, ${height / 3}px)` }}>\n                    <p style={{ fontSize: height / 20, color: \"white\" }} id=\"loading-text\">Generating {viewType}</p>\n                    <div width=\"100%\" height={height} style={{ position: \"absolute\", transform: `translate(${width / 2 - centerX}px,0px)` }} >\n                        <Svg id=\"loading-animation\" width={width / 3} height={height / 3} style={{ animation: `spin 0.5s linear infinite`, opacity: \"1\", position: \"absolute\" }} >\n                            <Defs>\n                                <linearGradient\n                                    id=\"loading-gradient\"\n                                    x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                                    <Stop offset=\"0%\" stopColor=\"#bc53f8\" stopOpacity=\"1\" />\n                                    <Stop offset=\"18%\" stopColor=\"#dd76ff\" stopOpacity=\"1\" />\n                                    <Stop offset=\"36%\" stopColor=\"#e696fa\" stopOpacity=\"1\" />\n                                    <Stop offset=\"50%\" stopColor=\"#c4b8ff\" stopOpacity=\"1\" />\n                                    <Stop offset=\"69%\" stopColor=\"#6bb2f8\" stopOpacity=\"1\" />\n                                    <Stop offset=\"83%\" stopColor=\"#62c8ff\" stopOpacity=\"1\" />\n                                    <Stop offset=\"95%\" stopColor=\"#90ebff\" stopOpacity=\"1\" />\n                                </linearGradient>\n                            </Defs>\n                            <Path d={`m${centerX + innerR3 * Math.sin(45 * Math.PI / 180)} ${centerY - innerR3 * Math.cos(45 * Math.PI / 180)} \n                            l${thickness3 * Math.sin(45 * Math.PI / 180)} -${thickness3 * Math.cos(45 * Math.PI / 180)} \n                            a${outerR3},${outerR3} 0 1,1 ${-2 * outerR3 * Math.sin(45 * Math.PI / 180)},0 \n                            l${thickness3 * Math.sin(45 * Math.PI / 180)} ${thickness3 * Math.cos(45 * Math.PI / 180)}  \n                            a${innerR3},${innerR3} 0 1,0 ${2 * innerR3 * Math.sin(45 * Math.PI / 180)},0`} fill=\"url(#loading-gradient)\" stroke=\"none\" strokeWidth=\"1\"></Path>\n                        </Svg>\n                    </div>\n\n                </div>\n            </div >)\n        } else {\n            return (<span></span>)\n        }\n    }\n\n    function handleViewTypeButtonClick(viewType) {\n        console.log(allShotsRef.current)\n        if (!props.isLoading && combinedState.localViewType.type !== viewType && !Array.isArray(allShotsRef.current)) {\n            console.log(`${viewType} Button Clicked`)\n            setCombinedState({ ...combinedState, loadingAnimation: makeLoadingAnimation(true, viewType), localViewType: { type: viewType, isOriginal: false } })\n        }\n    }\n\n    function getDistance(tile1, tile2) {\n        return Math.sqrt(Math.pow(tile1.x - tile2.x, 2) + Math.pow(tile1.y - tile2.y, 2));\n    }\n\n    useEffect(() => {\n        console.log(props.size)\n        setCombinedState({ ...combinedState, whatToDisplay: generateWhatToDisplay(localViewTypeRef.current.type, allShotsRef.current.shots), legend: generateLegend(combinedState.localViewType.type) })\n    }, [props.size])\n\n    useEffect(() => {\n        console.log(props.isCurrentViewSimple)\n        setCombinedState({\n            ...combinedState, whatToDisplay: [], legend: [], allShots: []\n        })\n    }, [props.isCurrentViewSimple])\n\n    useEffect(() => {\n        console.log(`useEffect for localViewType`)\n        if (!combinedState.localViewType.isOriginal) {\n            setCombinedState({\n                ...combinedState, whatToDisplay: generateWhatToDisplay(combinedState.localViewType.type,\n                    allShotsRef.current.shots), legend: generateLegend(combinedState.localViewType.type)\n            })\n        }\n    }, [combinedState.localViewType])\n\n    useEffect(() => {\n        console.log(\"useEffect for props.allSearchData\")\n        console.log(props.allSearchData.shots)\n        if (Object.keys(props.allSearchData).length !== 0 || props.allSearchData.shots === null) {\n            if (Object.keys(props.allSearchData).length !== 0) {\n                setCombinedState({\n                    ...combinedState, allShots: props.allSearchData, allHexTiles: [], allHeatTiles: [],\n                    localViewType: { type: props.allSearchData.view, isOriginal: true }, loadingAnimation: makeLoadingAnimation(false),\n                    whatToDisplay: generateWhatToDisplay(props.allSearchData.view, props.allSearchData.shots),\n                    legend: generateLegend(props.allSearchData.view)\n                })\n                chooseCourt(props.allSearchData.view)\n            } else {\n                setCombinedState({ ...combinedState, allHexTiles: [], allHeatTiles: [] })\n            }\n        }\n    }, [props.allSearchData])\n\n    useEffect(() => {\n        console.log(\"useEffect for props.isLoading\")\n        if (props.isLoading.state && props.isLoading.newShots && props.isCurrentViewSimple) {\n            setCombinedState({ ...combinedState, loadingAnimation: makeLoadingAnimation(props.isLoading.state, props.latestSimpleViewType) })\n        } else if (props.isLoading.state && props.isLoading.newShots && !props.isCurrentViewSimple) {\n            setCombinedState({ ...combinedState, loadingAnimation: makeLoadingAnimation(props.isLoading.state, props.latestAdvancedViewType) })\n        } else {\n            setCombinedState({ ...combinedState, loadingAnimation: makeLoadingAnimation(false) })\n        }\n    }, [props.isLoading])\n\n    useEffect(() => {\n        console.log(\"useEffect for loadingAnimation\")\n        //props.setIsLoading({ state: true, newShots: false })\n    }, [combinedState.loadingAnimation])\n\n    useEffect(() => {\n        console.log(\"useEffect for props.latestAdvancedViewType\")\n    }, [props.latestAdvancedViewType])\n\n    useEffect(() => {\n        console.log(\"useEffect for whatToDisplay\")\n        if (combinedState.whatToDisplay.length !== 0) {\n            props.setIsLoading(false)\n            setCombinedState({ ...combinedState, loadingAnimation: makeLoadingAnimation(false) })\n        }\n    }, [combinedState.whatToDisplay])\n\n    useEffect(() => {\n        console.log(\"useEffect for allHexTiles\")\n        if (combinedState.allHexTiles.length !== 0) {\n            setCombinedState({ ...combinedState, whatToDisplay: resizeHex(), loadingAnimation: makeLoadingAnimation(false) })\n        }\n    }, [combinedState.allHexTiles])\n\n    useEffect(() => {\n        console.log(\"useEffect for allHeatTiles\")\n        if (combinedState.allHeatTiles.length !== 0) {\n            setCombinedState({ ...combinedState, whatToDisplay: resizeHeat(), loadingAnimation: makeLoadingAnimation(false) })\n        }\n    }, [combinedState.allHeatTiles])\n\n    useEffect(() => {\n        let func = async () => {\n            let hexAvg\n            await getHexAverages().then(res => hexAvg = res)\n            let zoneAvg\n            await getZoneAverages().then(res => zoneAvg = res)\n            setCombinedState({ ...combinedState, hexAverages: hexAvg, zoneAverages: zoneAvg })\n        }\n        func()\n        chooseCourt(combinedState.localViewType.type)\n    }, [])\n\n    useEffect(() => {\n        console.log(combinedState)\n    }, [combinedState])\n\n    return (\n        <div className='ShotView'>\n            <p id=\"view-title\">{props.title}</p>\n            <div id=\"imageview-div\">\n                <div className=\"court-image\" id=\"gray-background\" height={determineHeight()} >\n                    <Svg height=\"100%\" width=\"100%\">\n                        <Rect height=\"100%\" width=\"100%\" fill=\"#505050\"></Rect>\n                    </Svg>\n                </div>\n                <img src={transparentCourt} className=\"court-image\" id=\"transparent-court\"></img>\n                <img src={transparentCourt} className=\"court-image\" id=\"transparent-court-on-top\" ></img>\n                {whatToDisplayRef.current}\n                {combinedState.legend}\n                {combinedState.loadingAnimation}\n            </div>\n            <br></br>\n            <button className=\"view-switch-button\" style={combinedState.localViewType.type === \"Classic\" ? { borderBottom: \"2px solid rgba(107, 208, 248, 1)\" } : {}} onClick={() => handleViewTypeButtonClick(\"Classic\")} >Classic</button>\n            <button className=\"view-switch-button\" style={combinedState.localViewType.type === \"Hex\" ? { borderBottom: \"2px solid rgba(107, 208, 248, 1)\" } : {}} onClick={() => handleViewTypeButtonClick(\"Hex\")} >Hex</button>\n            <button className=\"view-switch-button\" style={combinedState.localViewType.type === \"Zone\" ? { borderBottom: \"2px solid rgba(107, 208, 248, 1)\" } : {}} onClick={() => handleViewTypeButtonClick(\"Zone\")} >Zone</button>\n            <button className=\"view-switch-button\" style={combinedState.localViewType.type === \"Heat\" ? { borderBottom: \"2px solid rgba(107, 208, 248, 1)\" } : {}} onClick={() => handleViewTypeButtonClick(\"Heat\")} >Heat</button>\n        </div>\n    )\n}\n\nexport default ShotView","import './SelectionViewer.css'\nimport { useEffect, useState, useRef } from \"react\";\nimport Svg, { Line } from 'react-native-svg';\n\nfunction SelectionViewer(props) {\n    console.log(\"RERENDER SelectionViewer\")\n    const allSearchParametersRef = useRef({});\n    allSearchParametersRef.current = props.allSearchParameters;\n    const mapIdToDisplayName = {\n        \"year-advanced-dd-begin\": \"Seasons >= \",\n        \"year-advanced-dd-end\": \"Seasons <= \",\n        \"player-advanced-dd\": \"Player: \",\n        \"season-advanced-dd\": \"Season Type: \",\n        \"distance-dd-begin\": \"Distance >= \",\n        \"distance-dd-end\": \"Distance <= \",\n        \"success-dd\": \"Shot Success: \",\n        \"shot-value-dd\": \"Shot Value: \",\n        \"shot-types-dd\": \"Shot Type: \",\n        \"shooting-teams-dd\": \"Team: \",\n        \"home-teams-dd\": \"Home Team: \",\n        \"away-teams-dd\": \"Away Team: \",\n        \"court-areas-dd\": \"Court Area: \",\n        \"court-sides-dd\": \"Court Side: \"\n    }\n    function generateSelections() {\n        let displayParams = []\n        if (allSearchParametersRef.current) {\n            Object.keys(allSearchParametersRef.current).forEach(eachParam => {\n                if (Array.isArray(allSearchParametersRef.current[eachParam])) {\n                    allSearchParametersRef.current[eachParam].forEach(eachSelection => {\n                        if (eachSelection !== \"\") {\n                            displayParams.push(<div className=\"selection-div\">\n                                {makeDeleteButton(eachParam, eachSelection)}\n                                <p className={`selection-span ${eachParam}-selection-view`}>{mapIdToDisplayName[eachParam]}{eachSelection}</p>\n                            </div>)\n                        }\n                    })\n                } else if (allSearchParametersRef.current[eachParam] !== \"\") {\n                    displayParams.push(<div className=\"selection-div\" >\n                        {makeDeleteButton(eachParam, allSearchParametersRef.current[eachParam])}\n                        <p className={`selection-span ${eachParam}-selection-view`}>{mapIdToDisplayName[eachParam]}{allSearchParametersRef.current[eachParam]}</p></div>)\n                }\n            })\n        }\n        return displayParams.length === 0 ? \"No Filters Selected\" : displayParams\n    }\n\n    function makeDeleteButton(param, value) {\n        let height = document.getElementById(\"current-selections\") ? document.getElementById(\"current-selections\").clientHeight : 25\n        let center = height * 0.9 / 2, lineLength = height / 5\n        return (\n            <Svg className=\"delete-button\" height={height * 0.9} width={height * 0.9} onClick={(event => handleDeleteButtonClick(param, value))}        >\n                <Line style={{\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                }} className=\"delete-button\" x1={center + lineLength} y1={center + lineLength} x2={center - lineLength} y2={center - lineLength} stroke=\"white\" strokeWidth=\"2\" />\n                <Line style={{\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                }} className=\"delete-button\" x1={center + lineLength} y1={center - lineLength} x2={center - lineLength} y2={center + lineLength} stroke=\"white\" strokeWidth=\"2\" />\n            </Svg>)\n    }\n\n    function handleDeleteButtonClick(param, value) {\n        let stateCopy = { ...allSearchParametersRef.current };\n        console.log(stateCopy)\n        if (Array.isArray(stateCopy[param])) {\n            let paramArray = stateCopy[param]\n            console.log(paramArray)\n            let index = paramArray.indexOf(value)\n            if (index !== -1) {\n                paramArray.splice(index, 1);\n            }\n        } else {\n            stateCopy[param] = \"\"\n        }\n        props.setAllSearchParameters(stateCopy)\n    }\n\n    useEffect(() => {\n        console.log(allSearchParametersRef.current)\n    }, [allSearchParametersRef.current])\n\n    return (\n        <div className=\"SelectionViewer scrollable\" id=\"selections\">\n            {generateSelections()}\n        </div>\n    )\n}\n\nexport default SelectionViewer","import './AdvancedSearchBox.css'\nimport SelectionViewer from './SelectionViewer'\nimport ShotPercentageView from './ShotPercentageView'\nimport { useEffect, useState, useRef } from \"react\";\nimport Svg, { Path } from 'react-native-svg';\nimport TextareaAutosize from 'react-textarea-autosize';\n\nconst AdvancedSearchBox = (props) => {\n    console.log(\"RERENDER AdvancedSearchBox\")\n    const [latestAdvancedViewType, setLatestAdvancedViewType] = useState(props.latestAdvancedViewType)\n    const [shotPercentageData, setShotPercentageData] = useState({})\n    const [invisibleRows, setInvisibleRows] = useState(1)\n\n    useEffect(() => {\n        console.log(\"useEffect for props.allSearchParameters\")\n    }, [props.allSearchParameters])\n\n    useEffect(() => {\n        window.addEventListener('keydown', function (event) {\n            if (event.keyCode == 32) {\n                console.log(\"SPACEBAR\")\n                event.preventDefault();\n            }\n        });\n    }, [])\n\n    const relevantTeams = {\n        \"Atlanta Hawks\": 1610612737,\n        \"Boston Celtics\": 1610612738,\n        \"Brooklyn Nets\": 1610612751,\n        \"Charlotte Hornets\": 1610612766,\n        \"Chicago Bulls\": 1610612741,\n        \"Cleveland Cavaliers\": 1610612739,\n        \"Dallas Mavericks\": 1610612742,\n        \"Denver Nuggets\": 1610612743,\n        \"Detroit Pistons\": 1610612765,\n        \"Golden State Warriors\": 1610612744,\n        \"Houston Rockets\": 1610612745,\n        \"Indiana Pacers\": 1610612754,\n        \"Los Angeles Clippers\": 1610612746,\n        \"Los Angeles Lakers\": 1610612747,\n        \"Memphis Grizzlies\": 1610612763,\n        \"Miami Heat\": 1610612748,\n        \"Milwaukee Bucks\": 1610612749,\n        \"Minnesota Timberwolves\": 1610612750,\n        \"New Orleans Pelicans\": 1610612740,\n        \"New York Knicks\": 1610612752,\n        \"Oklahoma City Thunder\": 1610612760,\n        \"Orlando Magic\": 1610612753,\n        \"Philadelphia 76ers\": 1610612755,\n        \"Phoenix Suns\": 1610612756,\n        \"Portland Trail Blazers\": 1610612757,\n        \"Sacramento Kings\": 1610612758,\n        \"San Antonio Spurs\": 1610612759,\n        \"Toronto Raptors\": 1610612761,\n        \"Utah Jazz\": 1610612762,\n        \"Washington Wizards\": 1610612764,\n        \"Adelaide 36ers\": 15019,\n        \"Alba Berlin\": 12323,\n        \"Beijing Ducks\": 15021,\n        \"FC Barcelona\": 12304,\n        \"Fenerbahce\": 12321,\n        \"Flamengo\": 12325,\n        \"Franca\": 12332,\n        \"Maccabi Haifa\": 93,\n        \"Maccabi Tel Aviv\": 12401,\n        \"Melbourne United\": 15016,\n        \"Montepaschi Siena\": 12322,\n        \"New Zealand Breakers\": 15020,\n        \"Olimpia Milano\": 94,\n        \"Real Madrid\": 12315,\n        \"San Lorenzo\": 12330,\n        \"Shanghai Sharks\": 12329,\n        \"Sydney Kings\": 15015\n    }\n    const courtAreas = [\"Restricted Area\", \"In The Paint (Non-RA)\", \"Mid-Range\",\n        \"Left Corner 3\", \"Right Corner 3\", \"Above the Break 3\", \"Backcourt\"]\n    const courtSides = [\"Left\", \"Left-Center\", \"Center\",\n        \"Right-Center\", \"Right\", \"Back Court\"]\n    const mapIdsToSearchParams = {\n        \"year-advanced-dd-begin\": \"beginSeason\",\n        \"year-advanced-dd-end\": \"endSeason\",\n        \"player-advanced-dd\": \"allSelectedPlayers\",\n        \"season-advanced-dd\": \"allSelectedSeasonTypes\",\n        \"distance-dd-begin\": \"beginDistance\",\n        \"distance-dd-end\": \"endDistance\",\n        \"success-dd\": \"shotSuccess\",\n        \"shot-value-dd\": \"shotValue\",\n        \"shot-types-dd\": \"allSelectedShotTypes\",\n        \"shooting-teams-dd\": \"allSelectedTeams\",\n        \"home-teams-dd\": \"allSelectedHomeTeams\",\n        \"away-teams-dd\": \"allSelectedAwayTeams\",\n        \"court-areas-dd\": \"allSelectedCourtAreas\",\n        \"court-sides-dd\": \"allSelectedCourtSides\",\n    }\n    const initPlayersRef = useRef({});\n    initPlayersRef.current = props.initPlayers;\n    const allSearchParametersRef = useRef({});\n    allSearchParametersRef.current = props.allSearchParameters;\n    const initPlayersReverseMapRef = useRef({});\n    initPlayersReverseMapRef.current = props.initPlayersReverseMap;\n    const initPlayersSortedRef = useRef({});\n    initPlayersSortedRef.current = Object.values(initPlayersRef.current).map(value => `${value[1]} ${value[2]}`.trim().toUpperCase()).sort((a, b) => {\n        if (a < b) { return -1; }\n        if (a > b) { return 1; }\n        return 0;\n    })\n\n    function createDropDown(className) {\n        switch (className) {\n            case \"year-advanced-dd-begin\":\n            case \"year-advanced-dd-end\":\n                return createYearDropDown(className)\n            case \"player-advanced-dd\":\n                return createPlayerDropDown(className)\n            case \"season-advanced-dd\":\n                return [createMultipleSelectionDD(className, \"Preseason\"), createMultipleSelectionDD(className, \"Regular Season\"), createMultipleSelectionDD(className, \"Playoffs\")]\n            case \"distance-dd-begin\":\n            case \"distance-dd-end\":\n                let distances = []\n                for (let i = 0; i < 89; i++) {\n                    distances.push(createSingleSelectionDD(className, i, className + \"-\" + i))\n                }\n                return distances\n            case \"success-dd\":\n                return [createSingleSelectionDD(className, \"Makes\"), createSingleSelectionDD(className, \"Misses\")]\n            case \"shot-value-dd\":\n                return [createSingleSelectionDD(className, \"2PT\"), createSingleSelectionDD(className, \"3PT\")]\n            case \"shot-types-dd\":\n                return props.shotTypes.map(shotType => createMultipleSelectionDD(className, shotType, shotType.replace(/ /g, \"-\").toLowerCase()))\n            case \"shooting-teams-dd\":\n            case \"home-teams-dd\":\n            case \"away-teams-dd\":\n                return Object.keys(relevantTeams).map(key => createMultipleSelectionDD(className, key, className.replace(\"teams-dd\", \"\") + key.replace(/ /g, \"-\").toLowerCase()))\n            case \"court-areas-dd\":\n                return courtAreas.map(courtArea => createMultipleSelectionDD(className, courtArea))\n            case \"court-sides-dd\":\n                return courtSides.map(courtSide => createMultipleSelectionDD(className, courtSide))\n        }\n    }\n\n    function createSingleSelectionDD(className, display, id) {\n        return <p className={`dropdown-item ${className}`} id={id} onClick={event => props.setAllSearchParameters({ ...props.allSearchParameters, [className]: event.target.textContent })}>{display}</p>\n    }\n\n    function createMultipleSelectionDD(className, display, id) {\n        return <p className={`dropdown-item ${className}`} id={id} onClick={event => checkIfExistsInArray(className, display)}>{display}</p>\n    }\n\n    function checkIfExistsInArray(key, value) {\n        if (!allSearchParametersRef.current[key].includes(value)) {\n            props.setAllSearchParameters({ ...allSearchParametersRef.current, [key]: [...allSearchParametersRef.current[key], value] })\n        }\n    }\n\n    function createYearDropDown(inputClassName) {\n        console.log(`createYearDropDown(${inputClassName})`)\n        return generateYears(props.currentYear).map(eachYear => createSingleSelectionDD(inputClassName, eachYear, eachYear))\n    }\n\n    function createPlayerDropDown(inputClassName) {\n        console.log(`createPlayerDropDown(${inputClassName})`)\n        return Object.values(initPlayersRef.current).map(value =>\n            <p className='dropdown-item player-display'\n                id={`${value[1]} ${value[2]}`.trim().toUpperCase()\n                } playerid={value[0]}\n                onClick={() => checkIfExistsInArray(inputClassName, `${value[1]} ${value[2]}`.trim())}>{`${value[1]} ${value[2]}`.trim()}</p>\n        ).sort((a, b) => {\n            if (a.props.id < b.props.id) { return -1; }\n            if (a.props.id > b.props.id) { return 1; }\n            return 0;\n        })\n    }\n\n    function handleKeyPress(event, id) {\n        let newString = event.target.value\n        //builds string\n        if (event.keyCode === 8) {\n            newString = newString.substring(0, newString.length - 1)\n        } else if ((event.keyCode >= 48 && event.keyCode <= 90) || event.keyCode === 32 || event.keyCode === 222 || event.keyCode === 189) {\n            newString += event.key\n        } else if (event.key === 'Enter') {\n            event.preventDefault()\n            props.handleDDButtonClick(event, `${id}-dd`)\n        }\n        //Close drowdown and set search parameter\n        if (event.key === 'Enter') {\n            handleTextInput(id, newString, event.key === 'Enter')\n        }\n        props.setTextAreaText({ id: id, text: newString })\n    }\n\n    function handleTextInput(id, builtString, isKeyEnter) {\n        switch (id) {\n            case \"year-advanced-dd-begin\":\n            case \"year-advanced-dd-end\":\n                return searchDropDown(generateYears(props.currentYear), builtString, isKeyEnter, false, id)\n            case \"player-advanced-dd\":\n                return searchDropDown(initPlayersSortedRef.current.map(eachPlayer => eachPlayer.toUpperCase()), builtString, isKeyEnter, true, id)\n            case \"distance-dd-begin\":\n            case \"distance-dd-end\":\n                let distanceArray = []\n                for (let i = 0; i < 89; i++) {\n                    distanceArray.push(i + \"\")\n                }\n                return searchDropDown(distanceArray, builtString, isKeyEnter, false, id)\n            case \"shot-types-dd\":\n                return searchDropDown(props.shotTypes.map(eachShotType => eachShotType.toUpperCase()), builtString, isKeyEnter, true, id)\n            case \"shooting-teams-dd\":\n            case \"home-teams-dd\":\n            case \"away-teams-dd\":\n                return searchDropDown(Object.keys(relevantTeams).map(each => each.toUpperCase()), builtString, isKeyEnter, true, id)\n        }\n    }\n\n    function generateYears(currentYear) {\n        let year = Number(currentYear.substring(0, 4)), subYearString\n        let elements = []\n        for (let eachYear = year; eachYear >= 1996; eachYear--) {\n            subYearString = (eachYear - 1899) % 100 < 10 ? subYearString = \"0\" + (eachYear - 1899) % 100 : subYearString = \"\" + (eachYear - 1899) % 100\n            elements.push(eachYear + \"-\" + subYearString)\n        }\n        return elements\n    }\n\n    function searchDropDown(inputArray, inputText, isFinal, isMultiSelect, id) {\n        let found = true;\n        for (let i = 0; i < inputText.length; i++) {\n            let tempArray = inputArray.filter(eachItem => eachItem.startsWith(inputText.substring(0, i + 1).toUpperCase()))\n            if (tempArray.length !== 0) {\n                inputArray = tempArray\n            } else {\n                found = false\n            }\n        }\n        let result = inputArray[0]\n        let elementId = result\n        switch (id) {\n            case \"distance-dd-begin\":\n            case \"distance-dd-end\":\n                elementId = id + \"-\" + result\n                break;\n            case \"shot-types-dd\":\n                elementId = result.replace(/ /g, \"-\").toLowerCase()\n                break;\n            case \"shooting-teams-dd\":\n            case \"home-teams-dd\":\n            case \"away-teams-dd\":\n                elementId = id.replace(\"teams-dd\", \"\") + result.replace(/ /g, \"-\").toLowerCase()\n                break;\n        }\n        if (document.getElementById(elementId)) {\n            document.getElementById(elementId).parentNode.scrollTop = document.getElementById(elementId).offsetTop;\n            let disp = result\n            if (id === \"player-advanced-dd\") {\n                disp = initPlayersReverseMapRef.current[document.getElementById(result).getAttribute('playerid')][1] + \" \" + initPlayersReverseMapRef.current[document.getElementById(result).getAttribute('playerid')][2]\n            } else if (id === \"distance-begin-dd\" || id === \"distance-end-dd\" || id === \"shot-types-dd\" || id.includes(\"teams\")) {\n                disp = document.getElementById(elementId).textContent\n            }\n            if (isFinal && !isMultiSelect) {\n                props.setAllSearchParameters({ ...props.allSearchParameters, [id]: disp })\n            } else if (isFinal && isMultiSelect) {\n                checkIfExistsInArray(id, disp)\n            }\n            return found ? inputText + disp.substring(inputText.length, disp.length) : inputText\n        }\n    }\n\n    function handleButtonClick(event, id) {\n        props.setTextAreaText({ id: id, text: \"\" })\n        props.handleDDButtonClick(event, `${id}`)\n    }\n\n    useEffect(() => {\n        if (document.getElementById(\"player-button-display-invisible\") && Number.parseInt(document.getElementById(\"player-button-display-invisible\").clientHeight / 20) !== invisibleRows) {\n            console.log(invisibleRows)\n            setInvisibleRows(Number.parseInt(document.getElementById(\"player-button-display-invisible\").clientHeight / 20))\n        }\n    })\n\n    function makeButton(id, suffix, scrollable, placeholder) {\n        let fullId = suffix !== \"\" ? id + \"-dd-\" + suffix : id + \"-dd\"\n        let whatToShow = placeholder\n        //Display latest search parameter if applicable\n        if (props.allSearchParameters[fullId] && props.allSearchParameters[fullId].length !== 0) {\n            if (Array.isArray(props.allSearchParameters[fullId])) {\n                whatToShow = props.allSearchParameters[fullId][props.allSearchParameters[fullId].length - 1]\n            } else {\n                whatToShow = props.allSearchParameters[fullId]\n            }\n        }\n        //If dropdown is showing, set display text to the text input\n        if (document.getElementById(fullId) && document.getElementById(fullId).classList.contains(\"show\") && scrollable && !id.includes(\"court\")) {\n            whatToShow = props.textAreaText.text\n        }\n        //If dropdown is showing and there is text input, display autofill\n        let value = \"\"\n        if (props.textAreaText.text.length !== 0 && document.getElementById(fullId) && document.getElementById(fullId).classList.contains(\"show\")) {\n            value = handleTextInput(fullId, props.textAreaText.text, false)\n        }\n        let width = 100\n        if (document.getElementById(`${fullId}-button`) && document.getElementById(`${fullId}-button`).clientWidth) {\n            width = document.getElementById(`${fullId}-button`).clientWidth * 0.7\n        }\n        let rangeButtonClass = suffix !== \"\" ? \"range-button\" : \"\"\n        let minRows = 1\n        if (document.getElementById(fullId) && document.getElementById(fullId).classList.contains(\"show\")) {\n            minRows = invisibleRows\n        }\n        let willShowTextArea = scrollable && !id.includes(\"court\")\n        let arrowOffset = willShowTextArea ? 0 : 10\n        let buttonFace2 = willShowTextArea ? <TextareaAutosize spellcheck=\"false\" minRows={minRows}\n            className={`dropdown-button-display ${fullId} text-area-2`} id={`${fullId}-button-display-2`} maxRows=\"3\"\n            value={value} style={{ resize: \"none\", overflowWrap: \"break-word\", outline: \"none\", maxWidth: width, minWidth: width, position: \"absolute\", color: \"rgba(255,255,255,0.5)\", }} />\n            : <p className={`dropdown-button-display ${fullId}`} style={{ textAlign: \"left\", maxWidth: width, minWidth: width, position: \"absolute\" }}>{value}</p>\n        let buttonFace = willShowTextArea ? < TextareaAutosize spellcheck=\"false\" minRows={minRows}\n            className={`dropdown-button-display ${fullId} text-area `} id={`${id}-button-display`} maxRows=\"3\"\n            value={whatToShow} style={{ resize: \"none\", overflowWrap: \"break-word\", outline: \"none\", maxWidth: width, minWidth: width, borderBottom: \"1px solid rgba(255,255,255,0.3)\", }}\n            onKeyDown={e => { handleKeyPress(e, fullId) }} placeholder={placeholder} />\n            : <p className={`dropdown-button-display ${fullId}`} style={{ textAlign: \"left\", maxWidth: width, minWidth: width, borderBottom: \"1px solid rgba(255,255,255,0.3)\" }}>{whatToShow}</p>\n\n        return <button className={`${rangeButtonClass} dropdown-button ${fullId}`} id={`${fullId}-button`} onClick={(e) => { handleButtonClick(e, fullId) }}>\n            {buttonFace2}{buttonFace}\n            <p className={`arrow ${fullId}`}>\n                <Svg className={`arrow-svg ${fullId}`} height=\"20\" width=\"20\">\n                    <Path className={`arrow-path ${fullId}`} d={`m0,${arrowOffset} l16 0 l-8 8 l-8 -8`} fill=\"gray\" strokeWidth=\"2\"  >\n                    </Path>\n                </Svg>\n            </p>\n            <div className={`dropdown-content ${scrollable}`} id={fullId}>\n                {createDropDown(fullId)}\n            </div>\n        </button>\n    }\n\n    function createLeftButtons() {\n        console.log(props.allSearchParameters)\n        let allLeftButtons = [<p className=\"param-title\">Seasons: </p>,\n        <p className=\"param-content\">{makeButton(\"year-advanced\", \"begin\", \"scrollable\", \"Start\")} - {makeButton(\"year-advanced\", \"end\", \"scrollable\", \"End\")}</p>,\n        <p className=\"param-title\">Players: </p >,\n        <p className=\"param-content\">{makeButton(\"player-advanced\", \"\", \"scrollable\", \"Player\")}</p>,\n        <p className=\"param-title\">Season Types: </p>,\n        <p className=\"param-content\">{makeButton(\"season-advanced\", \"\", \"\", \"Season Type\")}</p>,\n        <p className=\"param-title\">Shot Distance (ft.): </p >,\n        <p className=\"param-content\"> {makeButton(\"distance\", \"begin\", \"scrollable\", \"Start\")} - {makeButton(\"distance\", \"end\", \"scrollable\", \"End\")}</p >,\n        <p className=\"param-title\">Shot Success: </p>,\n        <p className=\"param-content\">{makeButton(\"success\", \"\", \"\", \"Makes or Misses\")}</p>,\n        <p className=\"param-title\">Shot Value: </p>,\n        <p className=\"param-content\">{makeButton(\"shot-value\", \"\", \"\", \"2PT or 3PT\")}</p>\n        ]\n        return allLeftButtons;\n    }\n\n    function createRightButtons() {\n        let allRightButtons = [\n            <p className=\"param-title\">Shot Types: </p>,\n            <p className=\"param-content\">{makeButton(\"shot-types\", \"\", \"scrollable\", \"Shot Type\")}</p>,\n            <p className=\"param-title\">Shooting Teams: </p>,\n            <p className=\"param-content\">{makeButton(\"shooting-teams\", \"\", \"scrollable\", \"Shooting Team\")}</p>,\n            <p className=\"param-title\">Home Teams: </p>,\n            <p className=\"param-content\">{makeButton(\"home-teams\", \"\", \"scrollable\", \"Home Team\")}</p>,\n            <p className=\"param-title\">Away Teams: </p>,\n            <p className=\"param-content\">{makeButton(\"away-teams\", \"\", \"scrollable\", \"Away Team\")}</p>,\n            <p className=\"param-title\">Court Areas: </p>,\n            <p className=\"param-content\">{makeButton(\"court-areas\", \"\", \"scrollable\", \"Court Area\")}</p>,\n            <p className=\"param-title\">Sides of Court: </p>,\n            <p className=\"param-content\"> {makeButton(\"court-sides\", \"\", \"scrollable\", \"Court Side\")}</p>\n        ]\n        return allRightButtons\n    }\n    function createInvisibleTextArea() {\n        let value = \"\"\n        if (props.textAreaText.text.length !== 0) {\n            if (document.getElementById(\"player-advanced-dd\") && document.getElementById(\"player-advanced-dd\").classList.contains(\"show\")) {\n                value = searchDropDown(initPlayersSortedRef.current.map(eachPlayer => eachPlayer.toUpperCase()), props.textAreaText.text, false, true, \"player-advanced-dd\")\n            } else if (document.getElementById(\"shot-types-dd\") && document.getElementById(\"shot-types-dd\").classList.contains(\"show\")) {\n                value = searchDropDown(props.shotTypes.map(eachShotType => eachShotType.toUpperCase()), props.textAreaText.text, false, true, \"shot-types-dd\")\n            } else if ((document.getElementById(\"shooting-teams-dd\") && document.getElementById(\"shooting-teams-dd\").classList.contains(\"show\"))\n                || (document.getElementById(\"home-teams-dd\") && document.getElementById(\"home-teams-dd\").classList.contains(\"show\"))\n                || (document.getElementById(\"away-teams-dd\") && document.getElementById(\"away-teams-dd\").classList.contains(\"show\"))) {\n                value = searchDropDown(Object.keys(relevantTeams).map(each => each.toUpperCase()), props.textAreaText.text, false, true, \"shooting-teams-dd\")\n            }\n        }\n        let width = 50\n        if (document.getElementById(\"shooting-teams-dd\"))\n            if (document.getElementById(\"player-advanced-dd\") && document.getElementById(\"player-advanced-dd\").classList.contains(\"show\") && document.getElementById(`player-advanced-dd-button`) && document.getElementById(`player-advanced-dd-button`).clientWidth) {\n                width = document.getElementById(`player-advanced-dd-button`).clientWidth\n            } else if (document.getElementById(\"shot-types-dd\") && document.getElementById(\"shot-types-dd\").classList.contains(\"show\") && document.getElementById(`shot-types-dd-button`) && document.getElementById(`shot-types-dd-button`).clientWidth) {\n                width = document.getElementById(`shot-types-dd-button`).clientWidth\n            } else if (document.getElementById(\"shooting-teams-dd\") && document.getElementById(\"shooting-teams-dd\").classList.contains(\"show\") && document.getElementById(`shooting-teams-dd-button`) && document.getElementById(`shooting-teams-dd-button`).clientWidth) {\n                width = document.getElementById(`shooting-teams-dd-button`).clientWidth\n            } else if (document.getElementById(\"home-teams-dd\") && document.getElementById(\"home-teams-dd\").classList.contains(\"show\") && document.getElementById(`home-teams-dd-button`) && document.getElementById(`home-teams-dd-button`).clientWidth) {\n                width = document.getElementById(`home-teams-dd-button`).clientWidth\n            } else if (document.getElementById(\"away-teams-dd\") && document.getElementById(\"away-teams-dd\").classList.contains(\"show\") && document.getElementById(`away-teams-dd-button`) && document.getElementById(`away-teams-dd-button`).clientWidth) {\n                width = document.getElementById(`away-teams-dd-button`).clientWidth\n            }\n        let innerWidth = width * 0.7\n        return <button className={`dropdown-button player-invisible-dd`} id={`player-invisible-button`} style={{ position: \"absolute\", backgroundColor: \"transparent\", borderColor: \"transparent\", transform: \"translate(-1000px,0px)\", marginBottom: \"0px\", maxWidth: width, minWidth: width }} >\n            <TextareaAutosize rows=\"1\" className={`dropdown-button-display player-dd-invisible text-area-2`} id={`player-button-display-invisible`} maxRows=\"3\"\n                value={value} style={{ position: \"absolute\", resize: \"none\", overflowWrap: \"break-word\", position: \"absolute\", color: \"transparent\", maxWidth: innerWidth, minWidth: innerWidth }} />\n        </button>\n    }\n\n    async function runAdvancedSearch() {\n        console.log(\"runAdvancedSearch()\")\n        let url = `https://customnbashotcharts.com:8443/shots_request_advanced?`\n        let urlBuilder = \"\"\n        let isMoreThanOne = false\n        Object.keys(allSearchParametersRef.current).forEach(eachKey => {\n            if (Array.isArray(allSearchParametersRef.current[eachKey])) {\n                allSearchParametersRef.current[eachKey].forEach(eachValue => {\n                    if (eachKey === \"player-advanced-dd\") {\n                        urlBuilder = urlBuilder + mapIdsToSearchParams[eachKey] + \"=\" + props.initPlayers[eachValue][0]\n                    } else if (eachKey === \"shooting-teams-dd\" || eachKey === \"home-teams-dd\" || eachKey === \"away-teams-dd\") {\n                        urlBuilder = urlBuilder + mapIdsToSearchParams[eachKey] + \"=\" + relevantTeams[eachValue]\n                    } else {\n                        urlBuilder = urlBuilder + mapIdsToSearchParams[eachKey] + \"=\" + eachValue\n                    }\n                    isMoreThanOne = true\n                    if (isMoreThanOne) {\n                        urlBuilder = urlBuilder + \"&\"\n                    }\n                })\n            } else {\n                if (allSearchParametersRef.current[eachKey] !== \"\") {\n                    urlBuilder = urlBuilder + mapIdsToSearchParams[eachKey] + \"=\" + allSearchParametersRef.current[eachKey]\n                    isMoreThanOne = true\n                    if (isMoreThanOne) {\n                        urlBuilder = urlBuilder + \"&\"\n                    }\n                }\n            }\n        })\n        if (urlBuilder !== \"\") {\n            props.setTitle(\"Custom Search\")\n            url = url + urlBuilder\n            console.log(url)\n            document.getElementById(\"shotview-grid-item\").scrollIntoView({ behavior: \"smooth\" })\n            props.setIsLoading({ state: true, newShots: true })\n            props.setAllSearchData({ shots: null, view: latestAdvancedViewType })\n            props.updateLatestAdvancedViewType(latestAdvancedViewType)\n            setTimeout(async () => {\n                await fetch(url, {\n                    method: 'GET'\n                }).then(res => res.json())\n                    .then(data => {\n                        console.log(data)\n                        props.setAllSearchData({\n                            shots: data,\n                            view: latestAdvancedViewType\n                        })\n                        setShotPercentageData(data)\n                    })\n            }, 750)\n        }\n    }\n\n    const selectionViewerRef = useRef({})\n    selectionViewerRef.current = <SelectionViewer allSearchParameters={allSearchParametersRef.current} setAllSearchParameters={props.setAllSearchParameters} />\n\n    let willDisplayInGrid = props.isMobile ? (<div className=\"advanced-grid\" style={{ gridTemplateColumns: \"100% \" }}>\n        <div className=\"advanced-grid-item\" >\n            {createInvisibleTextArea()}\n            {createLeftButtons()}\n            {createRightButtons()}\n        </div>\n    </div>) : (<div className=\"advanced-grid\">\n        <div className=\"advanced-grid-item\">\n            {createInvisibleTextArea()}\n            {createLeftButtons()}\n        </div>\n        <div className=\"advanced-grid-item\">\n            {createRightButtons()}\n        </div>\n    </div>)\n    return (\n        <div className=\"AdvancedSearchBox\" id=\"advanced-search-box\">\n            <div className=\"search-box-body\">\n                <div className='search-box-inner-body'>\n                    <h6 className=\"choose-parameters-label\">Search Parameters</h6>\n                    {willDisplayInGrid}\n                    <button className=\"dropdown-button static-button view-selection-adv-dd\" id=\"view-selection-adv-button\" onClick={e => props.handleDDButtonClick(e, \"view-selection-adv-dd\")}>\n                        <p className=\"dropdown-button-display view-selection-adv-dd\">{latestAdvancedViewType}</p>\n                        <p className=\"arrow view-selection-adv-dd\" >\n                            <Svg className=\"arrow-svg view-selection-adv-dd\" height=\"20\" width=\"20\">\n                                <Path className=\"arrow-path view-selection-adv-dd\" d='m0,10 l16 0 l-8 8 l-8 -8' fill=\"gray\" strokeWidth=\"2\"  >\n                                </Path>\n                            </Svg>\n                        </p>\n                        <div className=\"dropdown-content\" id=\"view-selection-adv-dd\">\n                            <p className='dropdown-item view-display' onClick={(event) => setLatestAdvancedViewType(event.target.textContent)}>Classic</p>\n                            <p className='dropdown-item view-display' onClick={(event) => setLatestAdvancedViewType(event.target.textContent)}>Hex</p>\n                            <p className='dropdown-item view-display' onClick={(event) => setLatestAdvancedViewType(event.target.textContent)}>Zone</p>\n                            <p className='dropdown-item view-display' onClick={(event) => setLatestAdvancedViewType(event.target.textContent)}>Heat</p>\n                        </div></button>\n                    <br></br>\n                    <button className=\"static-button\" id=\"run-advanced-search-button\" onClick={() => runAdvancedSearch()}>Run It</button>\n                    <br></br>\n                    <p id=\"current-selections\">Current Selections: </p>\n                    {selectionViewerRef.current}\n                </div>\n            </div>\n            <ShotPercentageView advancedShotData={shotPercentageData} isCurrentViewSimple={props.isCurrentViewSimple} />\n        </div>\n    )\n}\n\nexport default AdvancedSearchBox","import './App.css';\nimport Header from './Header'\nimport SimpleSearchBox from './SimpleSearchBox'\nimport ShotView from './ShotView'\nimport AdvancedSearchBox from './AdvancedSearchBox';\nimport SearchTypeButtons from './SearchTypeButtons';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { BrowserView, isMobile, MobileView } from 'react-device-detect';\n\nconst App = () => {\n  console.log(\"RERENDER APP\")\n  console.log(\"isMobile: \" + isMobile)\n  const currentYear = '2020-21'\n  const [size, setWindowSize] = useState([window.innerHeight, window.innerWidth])\n  const [latestSimpleViewType, setLatestSimpleViewType] = useState(\"Classic\")\n  const [latestAdvancedViewType, setLatestAdvancedViewType] = useState(\"Classic\")\n  const [allSearchData, setAllSearchData] = useState({})\n  const [allAdvancedSearchData, setAllAdvancedSearchData] = useState({})\n  const [title, setTitle] = useState(\"\")\n  const [isLoading, setIsLoading] = useState({ state: false, newShots: true })\n  const [isCurrentViewSimple, setIsCurrentViewSimple] = useState(!window.location.href.includes(\"Advanced\"))\n  const [keyPressedBuilder, setKeyPressedBuilder] = useState({ id: null, builder: \"\" })\n  const [textAreaText, setTextAreaText] = useState({ id: null, text: \"\" })\n  const [simpleSelectedYear, setSimpleSelectedYear] = useState(currentYear);\n  const [simpleSelectedPlayer, setSimpleSelectedPlayer] = useState({\n    id: 203932,\n    playerfirstname: \"Aaron\",\n    playerlastname: \"Gordon\"\n  });\n  const [simpleSelectedSeason, setSimpleSelectedSeason] = useState(\"Regular Season\");\n  const [initPlayers, setInitPlayers] = useState([])\n  const [initPlayersReverseMap, setInitPlayersReverseMap] = useState([])\n  const simpleSearchBoxRef = useRef({})\n  simpleSearchBoxRef.current =\n    <SimpleSearchBox\n      updateLatestSimpleViewType={setLatestSimpleViewType}\n      latestSimpleViewType={latestSimpleViewType}\n      setTitle={setTitle} setIsLoading={setIsLoading}\n      setAllSearchData={setAllSearchData}\n      isCurrentViewSimple={isCurrentViewSimple}\n      handleDDButtonClick={handleDDButtonClick}\n      currentYear={currentYear}\n      getSearchData={getSearchData}\n      initPlayers={initPlayers}\n      initPlayersReverseMap={initPlayersReverseMap}\n      selectedPlayer={simpleSelectedPlayer}\n      setSelectedPlayer={setSimpleSelectedPlayer}\n      selectedSeason={simpleSelectedSeason}\n      setSelectedSeason={setSimpleSelectedSeason}\n      selectedYear={simpleSelectedYear}\n      setSelectedYear={setSimpleSelectedYear}\n      setTextAreaText={setTextAreaText}\n      textAreaText={textAreaText}\n      size={size}\n      isMobile={isMobile}\n    />\n\n  const [whichSearchBox, setWhichSearchBox] = useState(simpleSearchBoxRef.current)\n  const [shotTypes, setShotTypes] = useState([])\n  const [allAdvancedSearchParameters, setAllAdvancedSearchParameters] = useState({\n    \"year-advanced-dd-begin\": \"\",\n    \"year-advanced-dd-end\": \"\",\n    \"player-advanced-dd\": [],\n    \"season-advanced-dd\": [],\n    \"distance-dd-begin\": \"\",\n    \"distance-dd-end\": \"\",\n    \"success-dd\": \"\",\n    \"shot-value-dd\": \"\",\n    \"shot-types-dd\": [],\n    \"shooting-teams-dd\": [],\n    \"home-teams-dd\": [],\n    \"away-teams-dd\": [],\n    \"court-areas-dd\": [],\n    \"court-sides-dd\": []\n  })\n  const advancedSearchBoxRef = useRef({})\n  advancedSearchBoxRef.current = <AdvancedSearchBox\n    currentYear={currentYear}\n    isCurrentViewSimple={isCurrentViewSimple}\n    handleDDButtonClick={handleDDButtonClick}\n    initPlayers={initPlayers}\n    initPlayersReverseMap={initPlayersReverseMap}\n    shotTypes={shotTypes}\n    allSearchParameters={allAdvancedSearchParameters}\n    setAllSearchParameters={setAllAdvancedSearchParameters}\n    latestAdvancedViewType={latestAdvancedViewType}\n    setLatestAdvancedViewType={setLatestAdvancedViewType}\n    setTitle={setTitle} setIsLoading={setIsLoading}\n    updateLatestAdvancedViewType={setLatestAdvancedViewType}\n    setAllSearchData={setAllAdvancedSearchData}\n    setTextAreaText={setTextAreaText}\n    textAreaText={textAreaText}\n    size={size}\n    isMobile={isMobile} />\n\n  const sizeRef = useRef({})\n  sizeRef.current = size\n\n  function getInitPlayersData() {\n    console.log(\"getInitPlayersData()\")\n    let players = {}, playersReverse = {}\n    let response = getSearchData(\"https://customnbashotcharts.com:8443/shots_request?initallplayers=true\")\n      .then(res => {\n        for (let i = 0; i < res.initallplayers.length; i++) {\n          let nameArray = [res.initallplayers[i].id, res.initallplayers[i].firstname, res.initallplayers[i].lastname]\n          players[(res.initallplayers[i].firstname + \" \" + res.initallplayers[i].lastname).trim()] = nameArray;\n          playersReverse[res.initallplayers[i].id] = nameArray;\n        }\n        setInitPlayers(players)\n        setInitPlayersReverseMap(playersReverse)\n        return res\n      })\n    return response\n  }\n  async function getSearchData(url) {\n    console.log(`getSearchData(${url})`)\n    const response = await fetch(url, {\n      method: 'GET'\n    }).then(res => res.json())\n      .then(data => {\n        return data\n      }).catch(error => console.log('error', error))\n    return response\n  }\n\n  function getShotTypesData() {\n    console.log(\"getShotTypesData()\")\n    getSearchData(\"https://customnbashotcharts.com:8443/shots_request?shottypes=true\")\n      .then(res => {\n        setShotTypes(res.shottypes.map(value => value.playtype))\n      })\n  }\n\n  function handleSimpleClick() {\n    console.log(\"handleSimpleClick()\")\n    setIsCurrentViewSimple(true)\n  }\n\n  function handleAdvancedClick() {\n    console.log(\"handleAdvancedClick()\")\n    setIsCurrentViewSimple(false)\n  }\n\n  const acceptedTargets = [\"year-dd\", \"player-dd\", \"season-type-dd\", \"view-selection-dd\",\n    \"year-advanced-dd-begin\", \"year-advanced-dd-end\", \"player-advanced-dd\", \"season-advanced-dd\",\n    \"distance-dd-begin\", \"distance-dd-end\", \"success-dd\", \"shot-value-dd\", \"shot-types-dd\", \"shooting-teams-dd\",\n    \"home-teams-dd\", \"away-teams-dd\", \"court-areas-dd\", \"court-sides-dd\", \"view-selection-adv-dd\"]\n\n  function hideDD(event) {\n    console.log(`hideDD(${event})`)\n    console.log(event.target.classList)\n    let willPass = true\n    acceptedTargets.forEach(eachTarget => {\n      if (willPass && event.target.classList.contains(eachTarget)) {\n        willPass = false\n      }\n    });\n    // if (!event.target.classList.contains(\"year-dd\") && !event.target.classList.contains(\"player-dd\") && !event.target.classList.contains(\"season-type-dd\") && !event.target.classList.contains(\"view-selection-dd\") && !event.target.classList.contains(\"year-advanced-dd-begin\")) {\n    if (willPass) {\n      var dropdowns = document.getElementsByClassName(\"dropdown-content\");\n      for (let i = 0; i < dropdowns.length; i++) {\n        var openDropdown = dropdowns[i];\n        if (openDropdown.classList.contains('show')) {\n          openDropdown.classList.remove('show');\n          console.log(\"reseting textarea\")\n          setTextAreaText({ id: null, text: \"\" })\n        }\n      }\n    }\n  }\n  window.onclick = hideDD;\n\n  function handleDDButtonClick(event, type) {\n    console.log(`handleDDButtonClick(${event},${type})`)\n    hideDD(event);\n    var dropdowns = document.getElementsByClassName(\"dropdown-content\");\n    console.log(type)\n    console.log(acceptedTargets.includes(type))\n    for (let i = 0; i < dropdowns.length; i++) {\n      var dropdown = dropdowns[i];\n      if (dropdown.id !== type) {\n        if (dropdown.classList.contains('show')) {\n          dropdown.classList.remove('show');\n        }\n      } else {\n        if (dropdown.classList.contains('show') && !event.target.classList.contains(\"text-area\")) {\n          dropdown.classList.remove('show');\n        } else if (dropdown.classList.contains('show') && event.target.classList.contains(\"text-area\") && event.key === \"Enter\") {\n          dropdown.classList.remove('show');\n        } else if (!dropdown.classList.contains('show') && acceptedTargets.includes(type)) {\n          console.log(\"showing\")\n          document.getElementById(type).classList.toggle(\"show\")\n        }\n      }\n    }\n  };\n\n  function determineWhichView() {\n    console.log(\"determineWhichView()\")\n    /*\n    console.log(isCurrentViewSimple)\n    if (isCurrentViewSimple) {\n      if (document.getElementById(\"simple-search-box\") && !document.getElementById(\"simple-search-box\").classList.contains(\"show\")) {\n        console.log(\"Showing simple\")\n        document.getElementById(\"simple-search-box\").classList.toggle(\"show\")\n        document.getElementById(\"advanced-search-box\").classList.remove(\"show\")\n      }\n    } else {\n      console.log(document.getElementById(\"advanced-search-box\"))\n      if (document.getElementById(\"advanced-search-box\")) {\n        console.log(document.getElementById(\"advanced-search-box\").classList.contains(\"show\"))\n      }\n      if (document.getElementById(\"advanced-search-box\") && !document.getElementById(\"advanced-search-box\").classList.contains(\"show\")) {\n        console.log(\"Showing advanced\")\n        document.getElementById(\"simple-search-box\").classList.remove(\"show\")\n        document.getElementById(\"advanced-search-box\").classList.toggle(\"show\")\n      }\n    }\n    */\n  }\n\n  function handleResize() {\n    if (sizeRef.current[0] !== window.innerHeight || sizeRef.current[1] !== window.innerWidth) {\n      console.log(\"handleResize()\")\n      console.log(\"Size Not Okay\")\n      console.log(`${window.innerHeight}!=${sizeRef.current[0]} OR ${window.innerWidth}!=${sizeRef.current[1]}`)\n      setWindowSize([window.innerHeight, window.innerWidth])\n    }\n  }\n\n  useEffect(() => {\n    console.log(\"useEffect for App []\")\n    getInitPlayersData().then(res => {\n      determineWhichView()\n    })\n    getShotTypesData()\n    setInterval(() => handleResize(), 100)\n  }, [])\n\n  useEffect(() => {\n    console.log(`useEffect for App keyPressedBuilder`)\n    determineWhichView()\n  }, [keyPressedBuilder])\n\n  useEffect(() => {\n    console.log(\"useEffect for App isCurrentViewSimple, simpleSelectedYear, simpleSelectedSeason, simpleSelectedPlayer\")\n    determineWhichView()\n  }, [simpleSelectedYear, simpleSelectedSeason, simpleSelectedPlayer])\n\n  useEffect(() => {\n    console.log(`useEffect for App isCurrentViewSimple`)\n    determineWhichView()\n    setAllSearchData({})\n    setAllAdvancedSearchData({})\n  }, [isCurrentViewSimple])\n\n  useEffect(() => {\n    console.log(\"useEffect for App allAdvancedSearchParameters\")\n    determineWhichView()\n  }, [allAdvancedSearchParameters])\n\n  useEffect(() => {\n    console.log(`useEffect for App latestAdvancedViewType = ${latestAdvancedViewType}`)\n  }, [latestAdvancedViewType])\n\n  useEffect(() => {\n    console.log(`useEffect for App latestSimpleViewType = ${latestSimpleViewType}`)\n  }, [latestSimpleViewType])\n\n  useEffect(() => {\n    console.log(\"useEffect for App allSearchData\")\n    console.log(allSearchData)\n    if (allSearchData.shots === null) {\n      setIsLoading({ state: true, newShots: true })\n    }\n  }, [allSearchData])\n\n  useEffect(() => {\n    console.log(\"useEffect for App allAdvancedSearchData\")\n    console.log(allAdvancedSearchData)\n    if (allAdvancedSearchData.shots === null) {\n      setIsLoading({ state: true, newShots: true })\n    }\n  }, [allAdvancedSearchData])\n\n  useEffect(() => {\n    console.log(`useEffect for App isLoading = ${isLoading}`)\n  }, [isLoading])\n\n  return (\n    <div className=\"App\" style={isMobile ? { minWidth: \"500px\" } : {}}>\n      <Header isMobile={isMobile} setTitle={setTitle} whichSearchBox={whichSearchBox} title={title} isLoading={isLoading} setIsLoading={setIsLoading}\n        allSearchData={allSearchData} allAdvancedSearchData={allAdvancedSearchData} isCurrentViewSimple={isCurrentViewSimple}\n        latestAdvancedViewType={latestAdvancedViewType} simpleClickHandler={handleSimpleClick} advancedClickHandler={handleAdvancedClick}\n        setAllSearchData={setAllSearchData} setAllAdvancedSearchData={setAllAdvancedSearchData} setIsCurrentViewSimple={setIsCurrentViewSimple}\n        latestSimpleViewType={latestSimpleViewType}\n      />\n      {isCurrentViewSimple ? <div className=\"BaseGrid\" style={(isMobile || !isCurrentViewSimple) ? { display: \"block\" } : {}}>\n        <div height=\"100%\" id=\"simple-search-box-wrapper-div\">\n          {simpleSearchBoxRef.current}\n        </div>\n        <div className=\"basegrid-grid-item\" id=\"shotview-grid-item\" >\n          <ShotView size={size} title={title} isLoading={isLoading} setIsLoading={setIsLoading}\n            allSearchData={allSearchData} isCurrentViewSimple={true} latestSimpleViewType={latestSimpleViewType} />\n        </div>\n      </div> : <div className=\"BaseGrid\" style={(isMobile || !isCurrentViewSimple) ? { display: \"block\" } : {}}>\n        <div height=\"100%\">\n          {advancedSearchBoxRef.current}\n        </div>\n        <div className=\"basegrid-grid-item\" id=\"shotview-grid-item\" >\n          <ShotView size={size} title={\"\"} isLoading={isLoading} setIsLoading={setIsLoading}\n            allSearchData={allAdvancedSearchData} isCurrentViewSimple={false} latestAdvancedViewType={latestAdvancedViewType} />\n        </div>\n      </div>}\n\n\n    </div >\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport SearchTypeButtons from './SearchTypeButtons'\n\nReactDOM.render(\n  <App />\n  ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}